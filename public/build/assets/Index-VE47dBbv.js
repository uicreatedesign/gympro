import{c as be,j as t,u as Ee,t as ue,r as he,b as ke,H as De}from"./app-BszgJMo-.js";import{A as Te}from"./app-layout-BtO4vqiq.js";import{b as ve,c as Se,C as we,a as Ae}from"./card-Ck00td-d.js";import{B as le}from"./app-logo-icon-BgP1ljne.js";import{I as pe}from"./input-SX_5I1dP.js";import{c as je,S as ge,a as ye,b as _e,d as r}from"./select-CrxB0dfj.js";import{c as Fe,T as Ce,b as H,a as I,P as Me,e as Oe,d as Pe}from"./table-CV7uCKcI.js";import{B as Be}from"./badge-lhIGe_2o.js";import{T as He}from"./trash-2-Q2lZzo2A.js";import{a as Ie,b as qe,D as Re,c as $e,d as Le,e as Ue}from"./dialog-DepLkm3R.js";import{L as se}from"./label-Dw0GeYYQ.js";import{T as Ve}from"./textarea-BhB4E1_s.js";import{P as ze,S as Ke}from"./search-OWFz_q-U.js";/* empty css            */import"./app-sidebar-layout-ChmooSoC.js";import"./index-Bu1MMGS5.js";import"./index-s20kuZOn.js";import"./index-Cx2XN_pX.js";import"./index-BSKlmayO.js";import"./chevron-down-6seKikr8.js";import"./check-D_V-u4T3.js";const Ge={equipment:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",maintenance:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",utilities:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",salaries:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",rent:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",marketing:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-300",other:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"};function Je(B){const e=be.c(10),{expenses:y,onEdit:i,onDelete:l}=B;let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(Fe,{children:t.jsxs(Ce,{children:[t.jsx(H,{children:"S.No"}),t.jsx(H,{children:"Title"}),t.jsx(H,{children:"Category"}),t.jsx(H,{children:"Amount"}),t.jsx(H,{children:"Date"}),t.jsx(H,{children:"Payment Method"}),t.jsx(H,{children:"Actions"})]})}),e[0]=_):_=e[0];let o;if(e[1]!==y||e[2]!==l||e[3]!==i){let d;e[5]!==l||e[6]!==i?(d=(n,m)=>t.jsxs(Ce,{className:"hover:bg-muted/50",children:[t.jsx(I,{children:m+1}),t.jsx(I,{children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:n.title}),n.description&&t.jsx("p",{className:"text-sm text-muted-foreground",children:n.description})]})}),t.jsx(I,{children:t.jsx(Be,{className:Ge[n.category],children:n.category})}),t.jsxs(I,{className:"font-semibold",children:["â‚¹",n.amount]}),t.jsx(I,{children:new Date(n.expense_date).toLocaleDateString()}),t.jsx(I,{className:"capitalize",children:n.payment_method.replace("_"," ")}),t.jsx(I,{children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(le,{variant:"ghost",size:"icon",onClick:()=>i(n),children:t.jsx(Me,{className:"h-4 w-4"})}),t.jsx(le,{variant:"ghost",size:"icon",onClick:()=>l(n.id),children:t.jsx(He,{className:"h-4 w-4"})})]})})]},n.id),e[5]=l,e[6]=i,e[7]=d):d=e[7],o=y.map(d),e[1]=y,e[2]=l,e[3]=i,e[4]=o}else o=e[4];let b;return e[8]!==o?(b=t.jsxs(Oe,{children:[_,t.jsx(Pe,{children:o})]}),e[8]=o,e[9]=b):b=e[9],b}function Ne(B){const e=be.c(101),{open:y,onOpenChange:i,expense:l}=B,_=l?.title||"",o=l?.description||"",b=l?.amount||"",d=l?.category||"other";let n;e[0]!==l?.expense_date?(n=l?.expense_date||new Date().toISOString().split("T")[0],e[0]=l?.expense_date,e[1]=n):n=e[1];const m=l?.payment_method||"cash";let q;e[2]!==_||e[3]!==o||e[4]!==b||e[5]!==d||e[6]!==n||e[7]!==m?(q={title:_,description:o,amount:b,category:d,expense_date:n,payment_method:m},e[2]=_,e[3]=o,e[4]=b,e[5]=d,e[6]=n,e[7]=m,e[8]=q):q=e[8];const{data:a,setData:s,post:ae,put:O,processing:P,errors:c,reset:w}=Ee(q);let A;e[9]!==l||e[10]!==i||e[11]!==ae||e[12]!==O||e[13]!==w?(A=g=>{g.preventDefault(),l?O(`/expenses/${l.id}`,{onSuccess:()=>{w(),i(!1),ue.success("Expense updated successfully")}}):ae("/expenses",{onSuccess:()=>{w(),i(!1),ue.success("Expense created successfully")}})},e[9]=l,e[10]=i,e[11]=ae,e[12]=O,e[13]=w,e[14]=A):A=e[14];const k=A,E=l?"Edit Expense":"Add New Expense";let v;e[15]!==E?(v=t.jsx(Ie,{children:E}),e[15]=E,e[16]=v):v=e[16];let F;e[17]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(qe,{children:"Fill in the expense details"}),e[17]=F):F=e[17];let x;e[18]!==v?(x=t.jsxs(Re,{children:[v,F]}),e[18]=v,e[19]=x):x=e[19];let M;e[20]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(se,{htmlFor:"title",children:"Title *"}),e[20]=M):M=e[20];let h;e[21]!==s?(h=g=>s("title",g.target.value),e[21]=s,e[22]=h):h=e[22];let p;e[23]!==a.title||e[24]!==h?(p=t.jsx(pe,{id:"title",value:a.title,onChange:h}),e[23]=a.title,e[24]=h,e[25]=p):p=e[25];let f;e[26]!==c.title?(f=c.title&&t.jsx("p",{className:"text-sm text-destructive",children:c.title}),e[26]=c.title,e[27]=f):f=e[27];let u;e[28]!==p||e[29]!==f?(u=t.jsxs("div",{className:"col-span-2 space-y-2",children:[M,p,f]}),e[28]=p,e[29]=f,e[30]=u):u=e[30];let S;e[31]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(se,{htmlFor:"amount",children:"Amount *"}),e[31]=S):S=e[31];let D;e[32]!==s?(D=g=>s("amount",g.target.value),e[32]=s,e[33]=D):D=e[33];let C;e[34]!==a.amount||e[35]!==D?(C=t.jsx(pe,{id:"amount",type:"number",step:"0.01",value:a.amount,onChange:D}),e[34]=a.amount,e[35]=D,e[36]=C):C=e[36];let j;e[37]!==c.amount?(j=c.amount&&t.jsx("p",{className:"text-sm text-destructive",children:c.amount}),e[37]=c.amount,e[38]=j):j=e[38];let N;e[39]!==C||e[40]!==j?(N=t.jsxs("div",{className:"space-y-2",children:[S,C,j]}),e[39]=C,e[40]=j,e[41]=N):N=e[41];let T;e[42]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(se,{htmlFor:"expense_date",children:"Date *"}),e[42]=T):T=e[42];let R;e[43]!==s?(R=g=>s("expense_date",g.target.value),e[43]=s,e[44]=R):R=e[44];let $;e[45]!==a.expense_date||e[46]!==R?($=t.jsx(pe,{id:"expense_date",type:"date",value:a.expense_date,onChange:R}),e[45]=a.expense_date,e[46]=R,e[47]=$):$=e[47];let L;e[48]!==c.expense_date?(L=c.expense_date&&t.jsx("p",{className:"text-sm text-destructive",children:c.expense_date}),e[48]=c.expense_date,e[49]=L):L=e[49];let U;e[50]!==$||e[51]!==L?(U=t.jsxs("div",{className:"space-y-2",children:[T,$,L]}),e[50]=$,e[51]=L,e[52]=U):U=e[52];let ne;e[53]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(se,{htmlFor:"category",children:"Category *"}),e[53]=ne):ne=e[53];let V;e[54]!==s?(V=g=>s("category",g),e[54]=s,e[55]=V):V=e[55];let ie;e[56]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(ge,{children:t.jsx(ye,{})}),e[56]=ie):ie=e[56];let re;e[57]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsxs(_e,{children:[t.jsx(r,{value:"equipment",children:"Equipment"}),t.jsx(r,{value:"maintenance",children:"Maintenance"}),t.jsx(r,{value:"utilities",children:"Utilities"}),t.jsx(r,{value:"salaries",children:"Salaries"}),t.jsx(r,{value:"rent",children:"Rent"}),t.jsx(r,{value:"marketing",children:"Marketing"}),t.jsx(r,{value:"other",children:"Other"})]}),e[57]=re):re=e[57];let z;e[58]!==a.category||e[59]!==V?(z=t.jsxs("div",{className:"space-y-2",children:[ne,t.jsxs(je,{value:a.category,onValueChange:V,children:[ie,re]})]}),e[58]=a.category,e[59]=V,e[60]=z):z=e[60];let ce;e[61]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(se,{htmlFor:"payment_method",children:"Payment Method *"}),e[61]=ce):ce=e[61];let K;e[62]!==s?(K=g=>s("payment_method",g),e[62]=s,e[63]=K):K=e[63];let oe;e[64]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx(ge,{children:t.jsx(ye,{})}),e[64]=oe):oe=e[64];let de;e[65]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsxs(_e,{children:[t.jsx(r,{value:"cash",children:"Cash"}),t.jsx(r,{value:"card",children:"Card"}),t.jsx(r,{value:"upi",children:"UPI"}),t.jsx(r,{value:"bank_transfer",children:"Bank Transfer"})]}),e[65]=de):de=e[65];let G;e[66]!==a.payment_method||e[67]!==K?(G=t.jsxs("div",{className:"space-y-2",children:[ce,t.jsxs(je,{value:a.payment_method,onValueChange:K,children:[oe,de]})]}),e[66]=a.payment_method,e[67]=K,e[68]=G):G=e[68];let me;e[69]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(se,{htmlFor:"description",children:"Description"}),e[69]=me):me=e[69];let J;e[70]!==s?(J=g=>s("description",g.target.value),e[70]=s,e[71]=J):J=e[71];let Q;e[72]!==a.description||e[73]!==J?(Q=t.jsxs("div",{className:"col-span-2 space-y-2",children:[me,t.jsx(Ve,{id:"description",value:a.description,onChange:J})]}),e[72]=a.description,e[73]=J,e[74]=Q):Q=e[74];let W;e[75]!==u||e[76]!==N||e[77]!==U||e[78]!==z||e[79]!==G||e[80]!==Q?(W=t.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[u,N,U,z,G,Q]}),e[75]=u,e[76]=N,e[77]=U,e[78]=z,e[79]=G,e[80]=Q,e[81]=W):W=e[81];let X;e[82]!==i?(X=t.jsx(le,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e[82]=i,e[83]=X):X=e[83];const fe=l?"Update":"Create";let Y;e[84]!==P||e[85]!==fe?(Y=t.jsx(le,{type:"submit",disabled:P,children:fe}),e[84]=P,e[85]=fe,e[86]=Y):Y=e[86];let Z;e[87]!==X||e[88]!==Y?(Z=t.jsxs($e,{children:[X,Y]}),e[87]=X,e[88]=Y,e[89]=Z):Z=e[89];let ee;e[90]!==k||e[91]!==W||e[92]!==Z?(ee=t.jsxs("form",{onSubmit:k,children:[W,Z]}),e[90]=k,e[91]=W,e[92]=Z,e[93]=ee):ee=e[93];let te;e[94]!==x||e[95]!==ee?(te=t.jsxs(Le,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[x,ee]}),e[94]=x,e[95]=ee,e[96]=te):te=e[96];let xe;return e[97]!==i||e[98]!==y||e[99]!==te?(xe=t.jsx(Ue,{open:y,onOpenChange:i,children:te}),e[97]=i,e[98]=y,e[99]=te,e[100]=xe):xe=e[100],xe}function gt(B){const e=be.c(39),{expenses:y,filters:i}=B,[l,_]=he.useState(!1),[o,b]=he.useState(null),[d,n]=he.useState(i.search||""),[m,q]=he.useState(i.category||"");let a;e[0]!==m||e[1]!==d?(a=()=>{ke.get("/expenses",{search:d,category:m==="all"?"":m},{preserveState:!0})},e[0]=m,e[1]=d,e[2]=a):a=e[2];const s=a,ae=Qe;let O;e[3]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(De,{title:"Expenses"}),e[3]=O):O=e[3];let P;e[4]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Expenses"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage gym expenses"})]}),e[4]=P):P=e[4];let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsxs("div",{className:"flex items-center justify-between",children:[P,t.jsxs(le,{onClick:()=>_(!0),children:[t.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add Expense"]})]}),e[5]=c):c=e[5];let w;e[6]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(we,{children:t.jsx(Ae,{children:"Filters"})}),e[6]=w):w=e[6];let A;e[7]===Symbol.for("react.memo_cache_sentinel")?(A=T=>n(T.target.value),e[7]=A):A=e[7];let k;e[8]!==s?(k=T=>T.key==="Enter"&&s(),e[8]=s,e[9]=k):k=e[9];let E;e[10]!==d||e[11]!==k?(E=t.jsx("div",{className:"flex-1",children:t.jsx(pe,{placeholder:"Search by title...",value:d,onChange:A,onKeyDown:k})}),e[10]=d,e[11]=k,e[12]=E):E=e[12];let v;e[13]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(ge,{className:"w-[200px]",children:t.jsx(ye,{placeholder:"All Categories"})}),e[13]=v):v=e[13];let F;e[14]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsxs(_e,{children:[t.jsx(r,{value:"all",children:"All Categories"}),t.jsx(r,{value:"equipment",children:"Equipment"}),t.jsx(r,{value:"maintenance",children:"Maintenance"}),t.jsx(r,{value:"utilities",children:"Utilities"}),t.jsx(r,{value:"salaries",children:"Salaries"}),t.jsx(r,{value:"rent",children:"Rent"}),t.jsx(r,{value:"marketing",children:"Marketing"}),t.jsx(r,{value:"other",children:"Other"})]}),e[14]=F):F=e[14];let x;e[15]!==m?(x=t.jsxs(je,{value:m,onValueChange:q,children:[v,F]}),e[15]=m,e[16]=x):x=e[16];let M;e[17]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(Ke,{className:"mr-2 h-4 w-4"}),e[17]=M):M=e[17];let h;e[18]!==s?(h=t.jsxs(le,{onClick:s,children:[M,"Search"]}),e[18]=s,e[19]=h):h=e[19];let p;e[20]!==x||e[21]!==h||e[22]!==E?(p=t.jsxs(ve,{children:[w,t.jsx(Se,{children:t.jsxs("div",{className:"flex gap-4",children:[E,x,h]})})]}),e[20]=x,e[21]=h,e[22]=E,e[23]=p):p=e[23];let f;e[24]!==y.data?(f=t.jsx(ve,{children:t.jsx(Se,{className:"p-6",children:t.jsx(Je,{expenses:y.data,onEdit:b,onDelete:ae})})}),e[24]=y.data,e[25]=f):f=e[25];let u;e[26]!==p||e[27]!==f?(u=t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[c,p,f]}),e[26]=p,e[27]=f,e[28]=u):u=e[28];let S;e[29]!==l?(S=t.jsx(Ne,{open:l,onOpenChange:_}),e[29]=l,e[30]=S):S=e[30];const D=!!o;let C;e[31]===Symbol.for("react.memo_cache_sentinel")?(C=T=>!T&&b(null),e[31]=C):C=e[31];let j;e[32]!==o||e[33]!==D?(j=t.jsx(Ne,{open:D,onOpenChange:C,expense:o}),e[32]=o,e[33]=D,e[34]=j):j=e[34];let N;return e[35]!==u||e[36]!==S||e[37]!==j?(N=t.jsxs(Te,{children:[O,u,S,j]}),e[35]=u,e[36]=S,e[37]=j,e[38]=N):N=e[38],N}function Qe(B){confirm("Are you sure you want to delete this expense?")&&ke.delete(`/expenses/${B}`,{onSuccess:We})}function We(){return ue.success("Expense deleted successfully")}export{gt as default};
