import{c as Oe,j as s,r as fe,u as ts,t as Ie,a as fs,b as Ye,H as hs}from"./app-CWQzBnNl.js";import{a as ps,P as Ze,b as xs,c as us,S as gs,d as js,e as vs,f as _s,g as bs}from"./pagination-BlqW_8-Q.js";import{A as ys}from"./app-layout-Dh3nhCHq.js";import{b as Le,c as Be,C as es,a as ss}from"./card-COiKwC-H.js";import{c as Ve,S as ze,a as Xe,b as qe,d as me}from"./select-BvmEL5Qi.js";import{B as de}from"./app-logo-icon-Bqc3Bh6X.js";import{I as he}from"./input-DKKmjKYk.js";import{B as ms,U as Ns}from"./badge-CJSffrFS.js";import{b as Te,c as Ss,T as os,a as Re,P as ws,d as Cs,e as ks}from"./table-BE_7wqr8.js";import{e as Us,f as Ps,g as Ds,U as Fs}from"./app-sidebar-layout-DS8fb3G9.js";import{T as As}from"./trash-2-DsBe0dhr.js";import{D as ls,a as as,b as rs,c as is,d as ns,e as cs}from"./dialog-Dp1Vet2W.js";import{L as ce}from"./label-DqhS0g7n.js";import{C as ds}from"./checkbox-C82Yi5td.js";import{P as $s}from"./plus-BWGwfkAm.js";import{U as Es}from"./user-x-Dpd49K6V.js";import{X as Ts}from"./app-logo-DqKSA1DP.js";/* empty css            */import"./chevron-left-B70-aDao.js";import"./index-YditoyNA.js";import"./index-DIv5bmjL.js";import"./chevron-down-wI3JFMuA.js";import"./check-d8A9s_PJ.js";import"./index-MWaObWSV.js";import"./index-Cx2XN_pX.js";function Rs(x){const e=Oe.c(22),{users:n,onEdit:l,onDelete:t}=x;let h,p,_,y,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx(Te,{className:"w-16",children:"Sr No"}),p=s.jsx(Te,{children:"User"}),_=s.jsx(Te,{children:"Email"}),y=s.jsx(Te,{children:"Roles"}),r=s.jsx(Te,{children:"Status"}),e[0]=h,e[1]=p,e[2]=_,e[3]=y,e[4]=r):(h=e[0],p=e[1],_=e[2],y=e[3],r=e[4]);let m;e[5]!==t||e[6]!==l?(m=(l||t)&&s.jsx(Te,{className:"text-right",children:"Actions"}),e[5]=t,e[6]=l,e[7]=m):m=e[7];let a;e[8]!==m?(a=s.jsx(Ss,{children:s.jsxs(os,{children:[h,p,_,y,r,m]})}),e[8]=m,e[9]=a):a=e[9];let c;if(e[10]!==t||e[11]!==l||e[12]!==n){let d;e[14]!==t||e[15]!==l?(d=(o,ae)=>s.jsxs(os,{className:"hover:bg-gray-50 dark:hover:bg-[oklch(0.269_0_0)]",children:[s.jsx(Re,{children:ae+1}),s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Us,{children:[s.jsx(Ps,{src:o.profile_image?`/storage/${o.profile_image}`:void 0}),s.jsx(Ds,{children:o.name.charAt(0).toUpperCase()})]}),s.jsx("span",{className:"font-medium",children:o.name})]})}),s.jsx(Re,{children:o.email}),s.jsx(Re,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:o.roles?.map(Is)})}),s.jsx(Re,{children:s.jsx(ms,{variant:"outline",className:o.status==="active"?"border-green-200 text-green-700 bg-green-50 dark:border-green-800 dark:text-green-400 dark:bg-green-950":"border-gray-200 text-gray-700 bg-gray-50 dark:border-gray-800 dark:text-gray-400 dark:bg-gray-950",children:o.status})}),(l||t)&&s.jsx(Re,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[l&&s.jsx(de,{variant:"outline",size:"sm",onClick:()=>l(o),children:s.jsx(ws,{className:"h-4 w-4"})}),t&&s.jsx(de,{variant:"outline",size:"sm",onClick:()=>t(o),children:s.jsx(As,{className:"h-4 w-4"})})]})})]},o.id),e[14]=t,e[15]=l,e[16]=d):d=e[16],c=n.map(d),e[10]=t,e[11]=l,e[12]=n,e[13]=c}else c=e[13];let i;e[17]!==c?(i=s.jsx(Cs,{children:c}),e[17]=c,e[18]=i):i=e[18];let v;return e[19]!==a||e[20]!==i?(v=s.jsxs(ks,{children:[a,i]}),e[19]=a,e[20]=i,e[21]=v):v=e[21],v}function Is(x){return s.jsx(ms,{variant:"outline",className:x.name==="Admin"?"border-red-200 text-red-700 bg-red-50 dark:border-red-800 dark:text-red-400 dark:bg-red-950":x.name==="Manager"?"border-blue-200 text-blue-700 bg-blue-50 dark:border-blue-800 dark:text-blue-400 dark:bg-blue-950":x.name==="Trainer"?"border-purple-200 text-purple-700 bg-purple-50 dark:border-purple-800 dark:text-purple-400 dark:bg-purple-950":x.name==="Member"?"border-green-200 text-green-700 bg-green-50 dark:border-green-800 dark:text-green-400 dark:bg-green-950":"border-gray-200 text-gray-700 bg-gray-50 dark:border-gray-800 dark:text-gray-400 dark:bg-gray-950",children:x.name},x.id)}function Ms(x){const e=Oe.c(93),{open:n,onOpenChange:l,roles:t}=x,[h,p]=fe.useState(null);let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_=[],e[0]=_):_=e[0];let y;e[1]===Symbol.for("react.memo_cache_sentinel")?(y={name:"",email:"",password:"",profile_image:null,status:"active",roles:_},e[1]=y):y=e[1];const{data:r,setData:m,post:a,processing:c,errors:i,reset:v}=ts(y);let d;e[2]!==l||e[3]!==a||e[4]!==v?(d=f=>{f.preventDefault(),a("/users",{onSuccess:()=>{v(),p(null),l(!1),Ie.success("User created successfully")},onError:Os})},e[2]=l,e[3]=a,e[4]=v,e[5]=d):d=e[5];const o=d;let ae;e[6]!==m?(ae=f=>{const g=f.target.files?.[0];if(g){m("profile_image",g);const le=new FileReader;le.onloadend=()=>{p(le.result)},le.readAsDataURL(g)}},e[6]=m,e[7]=ae):ae=e[7];const Z=ae;let ie;e[8]!==r.roles||e[9]!==m?(ie=f=>{m("roles",r.roles.includes(f)?r.roles.filter(g=>g!==f):[...r.roles,f])},e[8]=r.roles,e[9]=m,e[10]=ie):ie=e[10];const O=ie;let ne;e[11]===Symbol.for("react.memo_cache_sentinel")?(ne=s.jsxs(ls,{children:[s.jsx(as,{children:"Add New User"}),s.jsx(rs,{children:"Create a new user account"})]}),e[11]=ne):ne=e[11];let re;e[12]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx(ce,{htmlFor:"profile_image",children:"Profile Image"}),e[12]=re):re=e[12];let H;e[13]!==Z?(H=s.jsx(he,{id:"profile_image",type:"file",accept:"image/*",onChange:Z}),e[13]=Z,e[14]=H):H=e[14];let z;e[15]!==h?(z=h&&s.jsx("img",{src:h,alt:"Preview",className:"w-24 h-24 rounded-full object-cover mt-2"}),e[15]=h,e[16]=z):z=e[16];let X;e[17]!==H||e[18]!==z?(X=s.jsxs("div",{className:"space-y-2 col-span-2",children:[re,H,z]}),e[17]=H,e[18]=z,e[19]=X):X=e[19];let q;e[20]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx(ce,{htmlFor:"name",children:"Name *"}),e[20]=q):q=e[20];let C;e[21]!==m?(C=f=>m("name",f.target.value),e[21]=m,e[22]=C):C=e[22];let ee;e[23]!==r.name||e[24]!==C?(ee=s.jsx(he,{id:"name",value:r.name,onChange:C}),e[23]=r.name,e[24]=C,e[25]=ee):ee=e[25];let G;e[26]!==i.name?(G=i.name&&s.jsx("p",{className:"text-sm text-destructive",children:i.name}),e[26]=i.name,e[27]=G):G=e[27];let j;e[28]!==ee||e[29]!==G?(j=s.jsxs("div",{className:"space-y-2",children:[q,ee,G]}),e[28]=ee,e[29]=G,e[30]=j):j=e[30];let J;e[31]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx(ce,{htmlFor:"email",children:"Email *"}),e[31]=J):J=e[31];let L;e[32]!==m?(L=f=>m("email",f.target.value),e[32]=m,e[33]=L):L=e[33];let B;e[34]!==r.email||e[35]!==L?(B=s.jsx(he,{id:"email",type:"email",value:r.email,onChange:L}),e[34]=r.email,e[35]=L,e[36]=B):B=e[36];let se;e[37]!==i.email?(se=i.email&&s.jsx("p",{className:"text-sm text-destructive",children:i.email}),e[37]=i.email,e[38]=se):se=e[38];let k;e[39]!==B||e[40]!==se?(k=s.jsxs("div",{className:"space-y-2",children:[J,B,se]}),e[39]=B,e[40]=se,e[41]=k):k=e[41];let te;e[42]===Symbol.for("react.memo_cache_sentinel")?(te=s.jsx(ce,{htmlFor:"password",children:"Password *"}),e[42]=te):te=e[42];let U;e[43]!==m?(U=f=>m("password",f.target.value),e[43]=m,e[44]=U):U=e[44];let P;e[45]!==r.password||e[46]!==U?(P=s.jsx(he,{id:"password",type:"password",value:r.password,onChange:U}),e[45]=r.password,e[46]=U,e[47]=P):P=e[47];let D;e[48]!==i.password?(D=i.password&&s.jsx("p",{className:"text-sm text-destructive",children:i.password}),e[48]=i.password,e[49]=D):D=e[49];let N;e[50]!==P||e[51]!==D?(N=s.jsxs("div",{className:"space-y-2",children:[te,P,D]}),e[50]=P,e[51]=D,e[52]=N):N=e[52];let K;e[53]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(ce,{htmlFor:"status",children:"Status *"}),e[53]=K):K=e[53];let S;e[54]!==m?(S=f=>m("status",f),e[54]=m,e[55]=S):S=e[55];let Q;e[56]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx(ze,{children:s.jsx(Xe,{})}),e[56]=Q):Q=e[56];let W;e[57]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsxs(qe,{children:[s.jsx(me,{value:"active",children:"Active"}),s.jsx(me,{value:"inactive",children:"Inactive"})]}),e[57]=W):W=e[57];let F;e[58]!==r.status||e[59]!==S?(F=s.jsxs("div",{className:"space-y-2",children:[K,s.jsxs(Ve,{value:r.status,onValueChange:S,children:[Q,W]})]}),e[58]=r.status,e[59]=S,e[60]=F):F=e[60];let Y;e[61]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsx(ce,{children:"Roles"}),e[61]=Y):Y=e[61];let A;if(e[62]!==r.roles||e[63]!==t||e[64]!==O){let f;e[66]!==r.roles||e[67]!==O?(f=g=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ds,{id:`role-${g.id}`,checked:r.roles.includes(g.id),onCheckedChange:()=>O(g.id)}),s.jsx("label",{htmlFor:`role-${g.id}`,className:"text-sm cursor-pointer",children:g.name})]},g.id),e[66]=r.roles,e[67]=O,e[68]=f):f=e[68],A=t.map(f),e[62]=r.roles,e[63]=t,e[64]=O,e[65]=A}else A=e[65];let $;e[69]!==A?($=s.jsxs("div",{className:"space-y-2 col-span-2",children:[Y,s.jsx("div",{className:"grid grid-cols-2 gap-4 border rounded-lg p-4",children:A})]}),e[69]=A,e[70]=$):$=e[70];let E;e[71]!==X||e[72]!==j||e[73]!==k||e[74]!==N||e[75]!==F||e[76]!==$?(E=s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[X,j,k,N,F,$]}),e[71]=X,e[72]=j,e[73]=k,e[74]=N,e[75]=F,e[76]=$,e[77]=E):E=e[77];let T;e[78]!==l?(T=s.jsx(de,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e[78]=l,e[79]=T):T=e[79];let R;e[80]!==c?(R=s.jsx(de,{type:"submit",disabled:c,children:"Create"}),e[80]=c,e[81]=R):R=e[81];let w;e[82]!==T||e[83]!==R?(w=s.jsxs(is,{children:[T,R]}),e[82]=T,e[83]=R,e[84]=w):w=e[84];let I;e[85]!==o||e[86]!==E||e[87]!==w?(I=s.jsxs(ns,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[ne,s.jsxs("form",{onSubmit:o,children:[E,w]})]}),e[85]=o,e[86]=E,e[87]=w,e[88]=I):I=e[88];let M;return e[89]!==l||e[90]!==n||e[91]!==I?(M=s.jsx(cs,{open:n,onOpenChange:l,children:I}),e[89]=l,e[90]=n,e[91]=I,e[92]=M):M=e[92],M}function Os(){Ie.error("Failed to create user")}function Hs(x){const e=Oe.c(107),{open:n,onOpenChange:l,user:t,roles:h}=x,[p,_]=fe.useState(t.profile_image?`/storage/${t.profile_image}`:null),y=t.status||"active";let r;e[0]!==t.roles?(r=t.roles?.map(Vs)||[],e[0]=t.roles,e[1]=r):r=e[1];let m;e[2]!==y||e[3]!==r||e[4]!==t.email||e[5]!==t.name?(m={name:t.name,email:t.email,password:"",profile_image:null,status:y,roles:r,_method:"PUT"},e[2]=y,e[3]=r,e[4]=t.email,e[5]=t.name,e[6]=m):m=e[6];const{data:a,setData:c,post:i,processing:v,errors:d}=ts(m);let o;e[7]!==c||e[8]!==t.email||e[9]!==t.name||e[10]!==t.profile_image||e[11]!==t.roles||e[12]!==t.status?(o=()=>{c({name:t.name,email:t.email,password:"",profile_image:null,status:t.status||"active",roles:t.roles?.map(Bs)||[],_method:"PUT"}),_(t.profile_image?`/storage/${t.profile_image}`:null)},e[7]=c,e[8]=t.email,e[9]=t.name,e[10]=t.profile_image,e[11]=t.roles,e[12]=t.status,e[13]=o):o=e[13];let ae;e[14]!==t?(ae=[t],e[14]=t,e[15]=ae):ae=e[15],fe.useEffect(o,ae);let Z;e[16]!==l||e[17]!==i||e[18]!==t.id?(Z=u=>{u.preventDefault(),i(`/users/${t.id}`,{onSuccess:()=>{l(!1),Ie.success("User updated successfully")},onError:Ls})},e[16]=l,e[17]=i,e[18]=t.id,e[19]=Z):Z=e[19];const ie=Z;let O;e[20]!==c?(O=u=>{const V=u.target.files?.[0];if(V){c("profile_image",V);const oe=new FileReader;oe.onloadend=()=>{_(oe.result)},oe.readAsDataURL(V)}},e[20]=c,e[21]=O):O=e[21];const ne=O;let re;e[22]!==a.roles||e[23]!==c?(re=u=>{c("roles",a.roles.includes(u)?a.roles.filter(V=>V!==u):[...a.roles,u])},e[22]=a.roles,e[23]=c,e[24]=re):re=e[24];const H=re;let z;e[25]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsxs(ls,{children:[s.jsx(as,{children:"Edit User"}),s.jsx(rs,{children:"Update user details"})]}),e[25]=z):z=e[25];let X;e[26]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsx(ce,{htmlFor:"profile_image",children:"Profile Image"}),e[26]=X):X=e[26];let q;e[27]!==ne?(q=s.jsx(he,{id:"profile_image",type:"file",accept:"image/*",onChange:ne}),e[27]=ne,e[28]=q):q=e[28];let C;e[29]!==p?(C=p&&s.jsx("img",{src:p,alt:"Preview",className:"w-24 h-24 rounded-full object-cover mt-2"}),e[29]=p,e[30]=C):C=e[30];let ee;e[31]!==q||e[32]!==C?(ee=s.jsxs("div",{className:"space-y-2 col-span-2",children:[X,q,C]}),e[31]=q,e[32]=C,e[33]=ee):ee=e[33];let G;e[34]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(ce,{htmlFor:"name",children:"Name *"}),e[34]=G):G=e[34];let j;e[35]!==c?(j=u=>c("name",u.target.value),e[35]=c,e[36]=j):j=e[36];let J;e[37]!==a.name||e[38]!==j?(J=s.jsx(he,{id:"name",value:a.name,onChange:j}),e[37]=a.name,e[38]=j,e[39]=J):J=e[39];let L;e[40]!==d.name?(L=d.name&&s.jsx("p",{className:"text-sm text-destructive",children:d.name}),e[40]=d.name,e[41]=L):L=e[41];let B;e[42]!==J||e[43]!==L?(B=s.jsxs("div",{className:"space-y-2",children:[G,J,L]}),e[42]=J,e[43]=L,e[44]=B):B=e[44];let se;e[45]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsx(ce,{htmlFor:"email",children:"Email *"}),e[45]=se):se=e[45];let k;e[46]!==c?(k=u=>c("email",u.target.value),e[46]=c,e[47]=k):k=e[47];let te;e[48]!==a.email||e[49]!==k?(te=s.jsx(he,{id:"email",type:"email",value:a.email,onChange:k}),e[48]=a.email,e[49]=k,e[50]=te):te=e[50];let U;e[51]!==d.email?(U=d.email&&s.jsx("p",{className:"text-sm text-destructive",children:d.email}),e[51]=d.email,e[52]=U):U=e[52];let P;e[53]!==te||e[54]!==U?(P=s.jsxs("div",{className:"space-y-2",children:[se,te,U]}),e[53]=te,e[54]=U,e[55]=P):P=e[55];let D;e[56]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx(ce,{htmlFor:"password",children:"Password (leave blank to keep current)"}),e[56]=D):D=e[56];let N;e[57]!==c?(N=u=>c("password",u.target.value),e[57]=c,e[58]=N):N=e[58];let K;e[59]!==a.password||e[60]!==N?(K=s.jsx(he,{id:"password",type:"password",value:a.password,onChange:N}),e[59]=a.password,e[60]=N,e[61]=K):K=e[61];let S;e[62]!==d.password?(S=d.password&&s.jsx("p",{className:"text-sm text-destructive",children:d.password}),e[62]=d.password,e[63]=S):S=e[63];let Q;e[64]!==K||e[65]!==S?(Q=s.jsxs("div",{className:"space-y-2",children:[D,K,S]}),e[64]=K,e[65]=S,e[66]=Q):Q=e[66];let W;e[67]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx(ce,{htmlFor:"status",children:"Status *"}),e[67]=W):W=e[67];let F;e[68]!==c?(F=u=>c("status",u),e[68]=c,e[69]=F):F=e[69];let Y;e[70]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsx(ze,{children:s.jsx(Xe,{})}),e[70]=Y):Y=e[70];let A;e[71]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsxs(qe,{children:[s.jsx(me,{value:"active",children:"Active"}),s.jsx(me,{value:"inactive",children:"Inactive"})]}),e[71]=A):A=e[71];let $;e[72]!==a.status||e[73]!==F?($=s.jsxs("div",{className:"space-y-2",children:[W,s.jsxs(Ve,{value:a.status,onValueChange:F,children:[Y,A]})]}),e[72]=a.status,e[73]=F,e[74]=$):$=e[74];let E;e[75]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(ce,{children:"Roles"}),e[75]=E):E=e[75];let T;if(e[76]!==a.roles||e[77]!==h||e[78]!==H){let u;e[80]!==a.roles||e[81]!==H?(u=V=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ds,{id:`role-${V.id}`,checked:a.roles.includes(V.id),onCheckedChange:()=>H(V.id)}),s.jsx("label",{htmlFor:`role-${V.id}`,className:"text-sm cursor-pointer",children:V.name})]},V.id),e[80]=a.roles,e[81]=H,e[82]=u):u=e[82],T=h.map(u),e[76]=a.roles,e[77]=h,e[78]=H,e[79]=T}else T=e[79];let R;e[83]!==T?(R=s.jsxs("div",{className:"space-y-2 col-span-2",children:[E,s.jsx("div",{className:"grid grid-cols-2 gap-4 border rounded-lg p-4",children:T})]}),e[83]=T,e[84]=R):R=e[84];let w;e[85]!==ee||e[86]!==B||e[87]!==P||e[88]!==Q||e[89]!==$||e[90]!==R?(w=s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[ee,B,P,Q,$,R]}),e[85]=ee,e[86]=B,e[87]=P,e[88]=Q,e[89]=$,e[90]=R,e[91]=w):w=e[91];let I;e[92]!==l?(I=s.jsx(de,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e[92]=l,e[93]=I):I=e[93];let M;e[94]!==v?(M=s.jsx(de,{type:"submit",disabled:v,children:"Update"}),e[94]=v,e[95]=M):M=e[95];let f;e[96]!==I||e[97]!==M?(f=s.jsxs(is,{children:[I,M]}),e[96]=I,e[97]=M,e[98]=f):f=e[98];let g;e[99]!==ie||e[100]!==w||e[101]!==f?(g=s.jsxs(ns,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[z,s.jsxs("form",{onSubmit:ie,children:[w,f]})]}),e[99]=ie,e[100]=w,e[101]=f,e[102]=g):g=e[102];let le;return e[103]!==l||e[104]!==n||e[105]!==g?(le=s.jsx(cs,{open:n,onOpenChange:l,children:g}),e[103]=l,e[104]=n,e[105]=g,e[106]=le):le=e[106],le}function Ls(){Ie.error("Failed to update user")}function Bs(x){return x.id}function Vs(x){return x.id}function zs(x){const e=Oe.c(22),{open:n,onOpenChange:l,user:t}=x,{delete:h,processing:p}=ts();let _;e[0]!==h||e[1]!==l||e[2]!==t.id?(_=()=>{h(`/users/${t.id}`,{onSuccess:()=>{l(!1),Ie.success("User deleted successfully")},onError:Xs})},e[0]=h,e[1]=l,e[2]=t.id,e[3]=_):_=e[3];const y=_;let r;e[4]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx(as,{children:"Delete User"}),e[4]=r):r=e[4];let m;e[5]!==t.name?(m=s.jsxs(ls,{children:[r,s.jsxs(rs,{children:['Are you sure you want to delete "',t.name,'"? This action cannot be undone.']})]}),e[5]=t.name,e[6]=m):m=e[6];let a;e[7]!==l?(a=s.jsx(de,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e[7]=l,e[8]=a):a=e[8];let c;e[9]!==y||e[10]!==p?(c=s.jsx(de,{variant:"destructive",onClick:y,disabled:p,children:"Delete"}),e[9]=y,e[10]=p,e[11]=c):c=e[11];let i;e[12]!==a||e[13]!==c?(i=s.jsxs(is,{children:[a,c]}),e[12]=a,e[13]=c,e[14]=i):i=e[14];let v;e[15]!==m||e[16]!==i?(v=s.jsxs(ns,{children:[m,i]}),e[15]=m,e[16]=i,e[17]=v):v=e[17];let d;return e[18]!==l||e[19]!==n||e[20]!==v?(d=s.jsx(cs,{open:n,onOpenChange:l,children:v}),e[18]=l,e[19]=n,e[20]=v,e[21]=d):d=e[21],d}function Xs(){Ie.error("Failed to delete user")}const qs=[{title:"Users",href:"/users"}];function _t(x){const e=Oe.c(136),{users:n,roles:l,stats:t,filters:h}=x,{auth:p}=fs().props,[_,y]=fe.useState(!1),[r,m]=fe.useState(null),[a,c]=fe.useState(null),[i,v]=fe.useState(h.search||"");let d;e[0]!==h.role?(d=h.role?.toString()||"all",e[0]=h.role,e[1]=d):d=e[1];const[o,ae]=fe.useState(d),[Z]=ps(i,500);let ie;e[2]!==p.permissions?(ie=p.permissions.includes("create_users"),e[2]=p.permissions,e[3]=ie):ie=e[3];const O=ie;let ne;e[4]!==p.permissions?(ne=p.permissions.includes("edit_users"),e[4]=p.permissions,e[5]=ne):ne=e[5];const re=ne;let H;e[6]!==p.permissions?(H=p.permissions.includes("delete_users"),e[6]=p.permissions,e[7]=H):H=e[7];const z=H;let X;e[8]!==Z||e[9]!==h.per_page||e[10]!==o?(X=()=>{Ye.get("/users",{search:Z||void 0,role:o!=="all"?o:void 0,per_page:h.per_page},{preserveState:!0,preserveScroll:!0})},e[8]=Z,e[9]=h.per_page,e[10]=o,e[11]=X):X=e[11];let q;e[12]!==Z||e[13]!==o?(q=[Z,o],e[12]=Z,e[13]=o,e[14]=q):q=e[14],fe.useEffect(X,q);let C;e[15]===Symbol.for("react.memo_cache_sentinel")?(C=()=>{v(""),ae("all")},e[15]=C):C=e[15];const ee=C;let G;e[16]!==h.per_page||e[17]!==o||e[18]!==i?(G=b=>{Ye.get("/users",{page:b,search:i||void 0,role:o!=="all"?o:void 0,per_page:h.per_page},{preserveState:!0})},e[16]=h.per_page,e[17]=o,e[18]=i,e[19]=G):G=e[19];const j=G;let J;e[20]!==o||e[21]!==i?(J=b=>{Ye.get("/users",{search:i||void 0,role:o!=="all"?o:void 0,per_page:b},{preserveState:!0})},e[20]=o,e[21]=i,e[22]=J):J=e[22];const L=J,B=(n.current_page-1)*n.per_page+1,se=Math.min(n.current_page*n.per_page,n.total);let k;e[23]!==n?(k=()=>{const b=[],{current_page:Ee,last_page:Me}=n;if(Me<=7)return Array.from({length:Me},Js);b.push(1),Ee>3&&b.push("...");for(let We=Math.max(2,Ee-1);We<=Math.min(Me-1,Ee+1);We++)b.push(We);return Ee<Me-2&&b.push("..."),b.push(Me),b},e[23]=n,e[24]=k):k=e[24];const te=k;let U;e[25]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx(hs,{title:"Users"}),e[25]=U):U=e[25];let P;e[26]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx("h1",{className:"text-3xl font-bold",children:"Users"}),e[26]=P):P=e[26];let D;e[27]!==O?(D=O&&s.jsxs(de,{onClick:()=>y(!0),children:[s.jsx($s,{className:"mr-2 h-4 w-4"}),"Add User"]}),e[27]=O,e[28]=D):D=e[28];let N;e[29]!==D?(N=s.jsxs("div",{className:"flex justify-between items-center",children:[P,D]}),e[29]=D,e[30]=N):N=e[30];let K;e[31]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsxs(es,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ss,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(Ns,{className:"h-4 w-4 text-muted-foreground"})]}),e[31]=K):K=e[31];let S;e[32]!==t.total?(S=s.jsxs(Le,{children:[K,s.jsx(Be,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.total})})]}),e[32]=t.total,e[33]=S):S=e[33];let Q;e[34]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsxs(es,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ss,{className:"text-sm font-medium",children:"Active Users"}),s.jsx(Fs,{className:"h-4 w-4 text-muted-foreground"})]}),e[34]=Q):Q=e[34];let W;e[35]!==t.active?(W=s.jsxs(Le,{children:[Q,s.jsx(Be,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.active})})]}),e[35]=t.active,e[36]=W):W=e[36];let F;e[37]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsxs(es,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ss,{className:"text-sm font-medium",children:"Inactive Users"}),s.jsx(Es,{className:"h-4 w-4 text-muted-foreground"})]}),e[37]=F):F=e[37];let Y;e[38]!==t.inactive?(Y=s.jsxs(Le,{children:[F,s.jsx(Be,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.inactive})})]}),e[38]=t.inactive,e[39]=Y):Y=e[39];let A;e[40]!==S||e[41]!==W||e[42]!==Y?(A=s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[S,W,Y]}),e[40]=S,e[41]=W,e[42]=Y,e[43]=A):A=e[43];let $;e[44]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),e[44]=$):$=e[44];let E;e[45]!==h.per_page?(E=h.per_page.toString(),e[45]=h.per_page,e[46]=E):E=e[46];let T;e[47]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(ze,{className:"w-20",children:s.jsx(Xe,{})}),e[47]=T):T=e[47];let R;e[48]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsxs(qe,{children:[s.jsx(me,{value:"10",children:"10"}),s.jsx(me,{value:"25",children:"25"}),s.jsx(me,{value:"50",children:"50"}),s.jsx(me,{value:"100",children:"100"})]}),e[48]=R):R=e[48];let w;e[49]!==L||e[50]!==E?(w=s.jsxs(Ve,{value:E,onValueChange:L,children:[T,R]}),e[49]=L,e[50]=E,e[51]=w):w=e[51];let I;e[52]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"}),e[52]=I):I=e[52];let M;e[53]!==w?(M=s.jsxs("div",{className:"flex items-center gap-2",children:[$,w,I]}),e[53]=w,e[54]=M):M=e[54];let f;e[55]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(gs,{className:"absolute left-2.5 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[55]=f):f=e[55];let g;e[56]===Symbol.for("react.memo_cache_sentinel")?(g=b=>v(b.target.value),e[56]=g):g=e[56];let le;e[57]!==i?(le=s.jsxs("div",{className:"relative w-64",children:[f,s.jsx(he,{placeholder:"Search users...",value:i,onChange:g,className:"pl-8 h-9"})]}),e[57]=i,e[58]=le):le=e[58];let u;e[59]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(ze,{className:"w-40 h-9",children:s.jsx(Xe,{placeholder:"Role"})}),e[59]=u):u=e[59];let V;e[60]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(me,{value:"all",children:"All Roles"}),e[60]=V):V=e[60];let oe;e[61]!==l?(oe=l.map(Gs),e[61]=l,e[62]=oe):oe=e[62];let pe;e[63]!==oe?(pe=s.jsxs(qe,{children:[V,oe]}),e[63]=oe,e[64]=pe):pe=e[64];let xe;e[65]!==o||e[66]!==pe?(xe=s.jsxs(Ve,{value:o,onValueChange:ae,children:[u,pe]}),e[65]=o,e[66]=pe,e[67]=xe):xe=e[67];let ue;e[68]!==o||e[69]!==i?(ue=(i||o!=="all")&&s.jsx(de,{variant:"ghost",size:"sm",onClick:ee,children:s.jsx(Ts,{className:"h-4 w-4"})}),e[68]=o,e[69]=i,e[70]=ue):ue=e[70];let ge;e[71]!==le||e[72]!==xe||e[73]!==ue?(ge=s.jsxs("div",{className:"flex items-center gap-2",children:[le,xe,ue]}),e[71]=le,e[72]=xe,e[73]=ue,e[74]=ge):ge=e[74];let je;e[75]!==M||e[76]!==ge?(je=s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[M,ge]}),e[75]=M,e[76]=ge,e[77]=je):je=e[77];const Ge=re?m:void 0,Je=z?c:void 0;let ve;e[78]!==l||e[79]!==Ge||e[80]!==Je||e[81]!==n.data?(ve=s.jsx(Rs,{users:n.data,roles:l,onEdit:Ge,onDelete:Je}),e[78]=l,e[79]=Ge,e[80]=Je,e[81]=n.data,e[82]=ve):ve=e[82];let _e;e[83]!==se||e[84]!==B||e[85]!==n.total?(_e=s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",B," to ",se," of ",n.total," results"]}),e[83]=se,e[84]=B,e[85]=n.total,e[86]=_e):_e=e[86];let be;e[87]!==j||e[88]!==n.current_page?(be=()=>j(n.current_page-1),e[87]=j,e[88]=n.current_page,e[89]=be):be=e[89];const Ke=n.current_page===1?"pointer-events-none opacity-50":"cursor-pointer";let ye;e[90]!==be||e[91]!==Ke?(ye=s.jsx(Ze,{children:s.jsx(js,{onClick:be,className:Ke})}),e[90]=be,e[91]=Ke,e[92]=ye):ye=e[92];let Ne;e[93]!==te?(Ne=te(),e[93]=te,e[94]=Ne):Ne=e[94];let Se;e[95]!==j||e[96]!==Ne||e[97]!==n.current_page?(Se=Ne.map((b,Ee)=>s.jsx(Ze,{children:b==="..."?s.jsx(xs,{}):s.jsx(us,{onClick:()=>j(b),isActive:b===n.current_page,className:"cursor-pointer",children:b})},Ee)),e[95]=j,e[96]=Ne,e[97]=n.current_page,e[98]=Se):Se=e[98];let we;e[99]!==j||e[100]!==n.current_page?(we=()=>j(n.current_page+1),e[99]=j,e[100]=n.current_page,e[101]=we):we=e[101];const Qe=n.current_page===n.last_page?"pointer-events-none opacity-50":"cursor-pointer";let Ce;e[102]!==we||e[103]!==Qe?(Ce=s.jsx(Ze,{children:s.jsx(vs,{onClick:we,className:Qe})}),e[102]=we,e[103]=Qe,e[104]=Ce):Ce=e[104];let ke;e[105]!==ye||e[106]!==Se||e[107]!==Ce?(ke=s.jsx(_s,{children:s.jsxs(bs,{children:[ye,Se,Ce]})}),e[105]=ye,e[106]=Se,e[107]=Ce,e[108]=ke):ke=e[108];let Ue;e[109]!==_e||e[110]!==ke?(Ue=s.jsxs("div",{className:"flex items-center justify-between",children:[_e,ke]}),e[109]=_e,e[110]=ke,e[111]=Ue):Ue=e[111];let Pe;e[112]!==je||e[113]!==ve||e[114]!==Ue?(Pe=s.jsx(Le,{children:s.jsxs(Be,{className:"pt-6 space-y-4",children:[je,ve,Ue]})}),e[112]=je,e[113]=ve,e[114]=Ue,e[115]=Pe):Pe=e[115];let De;e[116]!==N||e[117]!==A||e[118]!==Pe?(De=s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[N,A,Pe]}),e[116]=N,e[117]=A,e[118]=Pe,e[119]=De):De=e[119];let Fe;e[120]!==O||e[121]!==_||e[122]!==l?(Fe=O&&s.jsx(Ms,{open:_,onOpenChange:y,roles:l}),e[120]=O,e[121]=_,e[122]=l,e[123]=Fe):Fe=e[123];let Ae;e[124]!==re||e[125]!==r||e[126]!==l?(Ae=re&&r&&s.jsx(Hs,{open:!!r,onOpenChange:b=>!b&&m(null),user:r,roles:l}),e[124]=re,e[125]=r,e[126]=l,e[127]=Ae):Ae=e[127];let $e;e[128]!==z||e[129]!==a?($e=z&&a&&s.jsx(zs,{open:!!a,onOpenChange:b=>!b&&c(null),user:a}),e[128]=z,e[129]=a,e[130]=$e):$e=e[130];let He;return e[131]!==De||e[132]!==Fe||e[133]!==Ae||e[134]!==$e?(He=s.jsxs(ys,{breadcrumbs:qs,children:[U,De,Fe,Ae,$e]}),e[131]=De,e[132]=Fe,e[133]=Ae,e[134]=$e,e[135]=He):He=e[135],He}function Gs(x){return s.jsx(me,{value:x.id.toString(),children:x.name},x.id)}function Js(x,e){return e+1}export{_t as default};
