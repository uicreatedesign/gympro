import{c as Re,j as s,r as fe,u as es,t as Ee,a as ms,b as Qe,H as ds}from"./app-BBrHr9yK.js";import{a as fs}from"./index.module-DX1WjWIQ.js";import{A as hs}from"./app-layout-c5UF98Ur.js";import{b as Le,c as Be,C as We,a as Ye}from"./card-BVicgB7k.js";import{b as Ze,d as ps,e as xs,c as us,f as gs,P as js,a as vs}from"./pagination-DD93SJyD.js";import{c as Ve,S as ze,a as Xe,b as qe,d as me}from"./select-0DzXEy05.js";import{B as de}from"./app-logo-icon-XLdLkYsz.js";import{I as he}from"./input-B6T46bM3.js";import{B as cs}from"./badge-DdeEsuxv.js";import{b as Ae,c as _s,T as ns,a as $e,P as bs,d as ys,e as Ns}from"./table-U8W7fEAZ.js";import{A as Ss,a as ws,b as Cs,c as ks,U as Us,X as Ps}from"./app-sidebar-layout-C9WQJ0Fz.js";import{T as Ds}from"./trash-2-C2MTV1kv.js";import{D as ss,a as ts,b as ls,c as as,d as rs,e as is}from"./dialog-D5s1WcV7.js";import{L as ce}from"./label-CwbEE1ZB.js";import{C as os}from"./checkbox-CjK_ab4W.js";import{P as Fs,U as As,S as $s}from"./user-x-Ck7mMeh9.js";/* empty css            */import"./chevron-left-c_ZqhBH6.js";import"./index-DSdJdJXQ.js";import"./index-CzuNEaHU.js";import"./chevron-down-nWpROBTh.js";import"./check-CsSIm3IP.js";import"./index-C03wu9Ty.js";import"./index-Cx2XN_pX.js";function Es(u){const e=Re.c(22),{users:n,onEdit:l,onDelete:t}=u;let h,p,_,y,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx(Ae,{className:"w-16",children:"Sr No"}),p=s.jsx(Ae,{children:"User"}),_=s.jsx(Ae,{children:"Email"}),y=s.jsx(Ae,{children:"Roles"}),r=s.jsx(Ae,{children:"Status"}),e[0]=h,e[1]=p,e[2]=_,e[3]=y,e[4]=r):(h=e[0],p=e[1],_=e[2],y=e[3],r=e[4]);let m;e[5]!==t||e[6]!==l?(m=(l||t)&&s.jsx(Ae,{className:"text-right",children:"Actions"}),e[5]=t,e[6]=l,e[7]=m):m=e[7];let a;e[8]!==m?(a=s.jsx(_s,{children:s.jsxs(ns,{children:[h,p,_,y,r,m]})}),e[8]=m,e[9]=a):a=e[9];let c;if(e[10]!==t||e[11]!==l||e[12]!==n){let f;e[14]!==t||e[15]!==l?(f=(o,ae)=>s.jsxs(ns,{className:"hover:bg-gray-50 dark:hover:bg-[oklch(0.269_0_0)]",children:[s.jsx($e,{children:ae+1}),s.jsx($e,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Ss,{children:[s.jsx(ws,{src:o.profile_image?`/storage/${o.profile_image}`:void 0}),s.jsx(Cs,{children:o.name.charAt(0).toUpperCase()})]}),s.jsx("span",{className:"font-medium",children:o.name})]})}),s.jsx($e,{children:o.email}),s.jsx($e,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:o.roles?.map(Ts)})}),s.jsx($e,{children:s.jsx(cs,{variant:"outline",className:o.status==="active"?"border-green-200 text-green-700 bg-green-50 dark:border-green-800 dark:text-green-400 dark:bg-green-950":"border-gray-200 text-gray-700 bg-gray-50 dark:border-gray-800 dark:text-gray-400 dark:bg-gray-950",children:o.status})}),(l||t)&&s.jsx($e,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[l&&s.jsx(de,{variant:"outline",size:"sm",onClick:()=>l(o),children:s.jsx(bs,{className:"h-4 w-4"})}),t&&s.jsx(de,{variant:"outline",size:"sm",onClick:()=>t(o),children:s.jsx(Ds,{className:"h-4 w-4"})})]})})]},o.id),e[14]=t,e[15]=l,e[16]=f):f=e[16],c=n.map(f),e[10]=t,e[11]=l,e[12]=n,e[13]=c}else c=e[13];let i;e[17]!==c?(i=s.jsx(ys,{children:c}),e[17]=c,e[18]=i):i=e[18];let v;return e[19]!==a||e[20]!==i?(v=s.jsxs(Ns,{children:[a,i]}),e[19]=a,e[20]=i,e[21]=v):v=e[21],v}function Ts(u){return s.jsx(cs,{variant:"outline",className:u.name==="Admin"?"border-red-200 text-red-700 bg-red-50 dark:border-red-800 dark:text-red-400 dark:bg-red-950":u.name==="Manager"?"border-blue-200 text-blue-700 bg-blue-50 dark:border-blue-800 dark:text-blue-400 dark:bg-blue-950":u.name==="Trainer"?"border-purple-200 text-purple-700 bg-purple-50 dark:border-purple-800 dark:text-purple-400 dark:bg-purple-950":u.name==="Member"?"border-green-200 text-green-700 bg-green-50 dark:border-green-800 dark:text-green-400 dark:bg-green-950":"border-gray-200 text-gray-700 bg-gray-50 dark:border-gray-800 dark:text-gray-400 dark:bg-gray-950",children:u.name},u.id)}function Rs(u){const e=Re.c(93),{open:n,onOpenChange:l,roles:t}=u,[h,p]=fe.useState(null);let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_=[],e[0]=_):_=e[0];let y;e[1]===Symbol.for("react.memo_cache_sentinel")?(y={name:"",email:"",password:"",profile_image:null,status:"active",roles:_},e[1]=y):y=e[1];const{data:r,setData:m,post:a,processing:c,errors:i,reset:v}=es(y);let f;e[2]!==l||e[3]!==a||e[4]!==v?(f=d=>{d.preventDefault(),a("/users",{onSuccess:()=>{v(),p(null),l(!1),Ee.success("User created successfully")},onError:Is})},e[2]=l,e[3]=a,e[4]=v,e[5]=f):f=e[5];const o=f;let ae;e[6]!==m?(ae=d=>{const x=d.target.files?.[0];if(x){m("profile_image",x);const le=new FileReader;le.onloadend=()=>{p(le.result)},le.readAsDataURL(x)}},e[6]=m,e[7]=ae):ae=e[7];const Z=ae;let ie;e[8]!==r.roles||e[9]!==m?(ie=d=>{m("roles",r.roles.includes(d)?r.roles.filter(x=>x!==d):[...r.roles,d])},e[8]=r.roles,e[9]=m,e[10]=ie):ie=e[10];const M=ie;let ne;e[11]===Symbol.for("react.memo_cache_sentinel")?(ne=s.jsxs(ss,{children:[s.jsx(ts,{children:"Add New User"}),s.jsx(ls,{children:"Create a new user account"})]}),e[11]=ne):ne=e[11];let re;e[12]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx(ce,{htmlFor:"profile_image",children:"Profile Image"}),e[12]=re):re=e[12];let O;e[13]!==Z?(O=s.jsx(he,{id:"profile_image",type:"file",accept:"image/*",onChange:Z}),e[13]=Z,e[14]=O):O=e[14];let B;e[15]!==h?(B=h&&s.jsx("img",{src:h,alt:"Preview",className:"w-24 h-24 rounded-full object-cover mt-2"}),e[15]=h,e[16]=B):B=e[16];let V;e[17]!==O||e[18]!==B?(V=s.jsxs("div",{className:"space-y-2 col-span-2",children:[re,O,B]}),e[17]=O,e[18]=B,e[19]=V):V=e[19];let z;e[20]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx(ce,{htmlFor:"name",children:"Name *"}),e[20]=z):z=e[20];let k;e[21]!==m?(k=d=>m("name",d.target.value),e[21]=m,e[22]=k):k=e[22];let ee;e[23]!==r.name||e[24]!==k?(ee=s.jsx(he,{id:"name",value:r.name,onChange:k}),e[23]=r.name,e[24]=k,e[25]=ee):ee=e[25];let X;e[26]!==i.name?(X=i.name&&s.jsx("p",{className:"text-sm text-destructive",children:i.name}),e[26]=i.name,e[27]=X):X=e[27];let j;e[28]!==ee||e[29]!==X?(j=s.jsxs("div",{className:"space-y-2",children:[z,ee,X]}),e[28]=ee,e[29]=X,e[30]=j):j=e[30];let q;e[31]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx(ce,{htmlFor:"email",children:"Email *"}),e[31]=q):q=e[31];let H;e[32]!==m?(H=d=>m("email",d.target.value),e[32]=m,e[33]=H):H=e[33];let L;e[34]!==r.email||e[35]!==H?(L=s.jsx(he,{id:"email",type:"email",value:r.email,onChange:H}),e[34]=r.email,e[35]=H,e[36]=L):L=e[36];let se;e[37]!==i.email?(se=i.email&&s.jsx("p",{className:"text-sm text-destructive",children:i.email}),e[37]=i.email,e[38]=se):se=e[38];let U;e[39]!==L||e[40]!==se?(U=s.jsxs("div",{className:"space-y-2",children:[q,L,se]}),e[39]=L,e[40]=se,e[41]=U):U=e[41];let te;e[42]===Symbol.for("react.memo_cache_sentinel")?(te=s.jsx(ce,{htmlFor:"password",children:"Password *"}),e[42]=te):te=e[42];let P;e[43]!==m?(P=d=>m("password",d.target.value),e[43]=m,e[44]=P):P=e[44];let D;e[45]!==r.password||e[46]!==P?(D=s.jsx(he,{id:"password",type:"password",value:r.password,onChange:P}),e[45]=r.password,e[46]=P,e[47]=D):D=e[47];let F;e[48]!==i.password?(F=i.password&&s.jsx("p",{className:"text-sm text-destructive",children:i.password}),e[48]=i.password,e[49]=F):F=e[49];let N;e[50]!==D||e[51]!==F?(N=s.jsxs("div",{className:"space-y-2",children:[te,D,F]}),e[50]=D,e[51]=F,e[52]=N):N=e[52];let G;e[53]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(ce,{htmlFor:"status",children:"Status *"}),e[53]=G):G=e[53];let S;e[54]!==m?(S=d=>m("status",d),e[54]=m,e[55]=S):S=e[55];let J;e[56]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx(ze,{children:s.jsx(Xe,{})}),e[56]=J):J=e[56];let K;e[57]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsxs(qe,{children:[s.jsx(me,{value:"active",children:"Active"}),s.jsx(me,{value:"inactive",children:"Inactive"})]}),e[57]=K):K=e[57];let A;e[58]!==r.status||e[59]!==S?(A=s.jsxs("div",{className:"space-y-2",children:[G,s.jsxs(Ve,{value:r.status,onValueChange:S,children:[J,K]})]}),e[58]=r.status,e[59]=S,e[60]=A):A=e[60];let Q;e[61]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx(ce,{children:"Roles"}),e[61]=Q):Q=e[61];let $;if(e[62]!==r.roles||e[63]!==t||e[64]!==M){let d;e[66]!==r.roles||e[67]!==M?(d=x=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(os,{id:`role-${x.id}`,checked:r.roles.includes(x.id),onCheckedChange:()=>M(x.id)}),s.jsx("label",{htmlFor:`role-${x.id}`,className:"text-sm cursor-pointer",children:x.name})]},x.id),e[66]=r.roles,e[67]=M,e[68]=d):d=e[68],$=t.map(d),e[62]=r.roles,e[63]=t,e[64]=M,e[65]=$}else $=e[65];let E;e[69]!==$?(E=s.jsxs("div",{className:"space-y-2 col-span-2",children:[Q,s.jsx("div",{className:"grid grid-cols-2 gap-4 border rounded-lg p-4",children:$})]}),e[69]=$,e[70]=E):E=e[70];let W;e[71]!==V||e[72]!==j||e[73]!==U||e[74]!==N||e[75]!==A||e[76]!==E?(W=s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[V,j,U,N,A,E]}),e[71]=V,e[72]=j,e[73]=U,e[74]=N,e[75]=A,e[76]=E,e[77]=W):W=e[77];let w;e[78]!==l?(w=s.jsx(de,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e[78]=l,e[79]=w):w=e[79];let T;e[80]!==c?(T=s.jsx(de,{type:"submit",disabled:c,children:"Create"}),e[80]=c,e[81]=T):T=e[81];let R;e[82]!==w||e[83]!==T?(R=s.jsxs(as,{children:[w,T]}),e[82]=w,e[83]=T,e[84]=R):R=e[84];let C;e[85]!==o||e[86]!==W||e[87]!==R?(C=s.jsxs(rs,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[ne,s.jsxs("form",{onSubmit:o,children:[W,R]})]}),e[85]=o,e[86]=W,e[87]=R,e[88]=C):C=e[88];let I;return e[89]!==l||e[90]!==n||e[91]!==C?(I=s.jsx(is,{open:n,onOpenChange:l,children:C}),e[89]=l,e[90]=n,e[91]=C,e[92]=I):I=e[92],I}function Is(){Ee.error("Failed to create user")}function Ms(u){const e=Re.c(107),{open:n,onOpenChange:l,user:t,roles:h}=u,[p,_]=fe.useState(t.profile_image?`/storage/${t.profile_image}`:null),y=t.status||"active";let r;e[0]!==t.roles?(r=t.roles?.map(Ls)||[],e[0]=t.roles,e[1]=r):r=e[1];let m;e[2]!==y||e[3]!==r||e[4]!==t.email||e[5]!==t.name?(m={name:t.name,email:t.email,password:"",profile_image:null,status:y,roles:r,_method:"PUT"},e[2]=y,e[3]=r,e[4]=t.email,e[5]=t.name,e[6]=m):m=e[6];const{data:a,setData:c,post:i,processing:v,errors:f}=es(m);let o;e[7]!==c||e[8]!==t.email||e[9]!==t.name||e[10]!==t.profile_image||e[11]!==t.roles||e[12]!==t.status?(o=()=>{c({name:t.name,email:t.email,password:"",profile_image:null,status:t.status||"active",roles:t.roles?.map(Hs)||[],_method:"PUT"}),_(t.profile_image?`/storage/${t.profile_image}`:null)},e[7]=c,e[8]=t.email,e[9]=t.name,e[10]=t.profile_image,e[11]=t.roles,e[12]=t.status,e[13]=o):o=e[13];let ae;e[14]!==t?(ae=[t],e[14]=t,e[15]=ae):ae=e[15],fe.useEffect(o,ae);let Z;e[16]!==l||e[17]!==i||e[18]!==t.id?(Z=g=>{g.preventDefault(),i(`/users/${t.id}`,{onSuccess:()=>{l(!1),Ee.success("User updated successfully")},onError:Os})},e[16]=l,e[17]=i,e[18]=t.id,e[19]=Z):Z=e[19];const ie=Z;let M;e[20]!==c?(M=g=>{const Y=g.target.files?.[0];if(Y){c("profile_image",Y);const oe=new FileReader;oe.onloadend=()=>{_(oe.result)},oe.readAsDataURL(Y)}},e[20]=c,e[21]=M):M=e[21];const ne=M;let re;e[22]!==a.roles||e[23]!==c?(re=g=>{c("roles",a.roles.includes(g)?a.roles.filter(Y=>Y!==g):[...a.roles,g])},e[22]=a.roles,e[23]=c,e[24]=re):re=e[24];const O=re;let B;e[25]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsxs(ss,{children:[s.jsx(ts,{children:"Edit User"}),s.jsx(ls,{children:"Update user details"})]}),e[25]=B):B=e[25];let V;e[26]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(ce,{htmlFor:"profile_image",children:"Profile Image"}),e[26]=V):V=e[26];let z;e[27]!==ne?(z=s.jsx(he,{id:"profile_image",type:"file",accept:"image/*",onChange:ne}),e[27]=ne,e[28]=z):z=e[28];let k;e[29]!==p?(k=p&&s.jsx("img",{src:p,alt:"Preview",className:"w-24 h-24 rounded-full object-cover mt-2"}),e[29]=p,e[30]=k):k=e[30];let ee;e[31]!==z||e[32]!==k?(ee=s.jsxs("div",{className:"space-y-2 col-span-2",children:[V,z,k]}),e[31]=z,e[32]=k,e[33]=ee):ee=e[33];let X;e[34]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsx(ce,{htmlFor:"name",children:"Name *"}),e[34]=X):X=e[34];let j;e[35]!==c?(j=g=>c("name",g.target.value),e[35]=c,e[36]=j):j=e[36];let q;e[37]!==a.name||e[38]!==j?(q=s.jsx(he,{id:"name",value:a.name,onChange:j}),e[37]=a.name,e[38]=j,e[39]=q):q=e[39];let H;e[40]!==f.name?(H=f.name&&s.jsx("p",{className:"text-sm text-destructive",children:f.name}),e[40]=f.name,e[41]=H):H=e[41];let L;e[42]!==q||e[43]!==H?(L=s.jsxs("div",{className:"space-y-2",children:[X,q,H]}),e[42]=q,e[43]=H,e[44]=L):L=e[44];let se;e[45]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsx(ce,{htmlFor:"email",children:"Email *"}),e[45]=se):se=e[45];let U;e[46]!==c?(U=g=>c("email",g.target.value),e[46]=c,e[47]=U):U=e[47];let te;e[48]!==a.email||e[49]!==U?(te=s.jsx(he,{id:"email",type:"email",value:a.email,onChange:U}),e[48]=a.email,e[49]=U,e[50]=te):te=e[50];let P;e[51]!==f.email?(P=f.email&&s.jsx("p",{className:"text-sm text-destructive",children:f.email}),e[51]=f.email,e[52]=P):P=e[52];let D;e[53]!==te||e[54]!==P?(D=s.jsxs("div",{className:"space-y-2",children:[se,te,P]}),e[53]=te,e[54]=P,e[55]=D):D=e[55];let F;e[56]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx(ce,{htmlFor:"password",children:"Password (leave blank to keep current)"}),e[56]=F):F=e[56];let N;e[57]!==c?(N=g=>c("password",g.target.value),e[57]=c,e[58]=N):N=e[58];let G;e[59]!==a.password||e[60]!==N?(G=s.jsx(he,{id:"password",type:"password",value:a.password,onChange:N}),e[59]=a.password,e[60]=N,e[61]=G):G=e[61];let S;e[62]!==f.password?(S=f.password&&s.jsx("p",{className:"text-sm text-destructive",children:f.password}),e[62]=f.password,e[63]=S):S=e[63];let J;e[64]!==G||e[65]!==S?(J=s.jsxs("div",{className:"space-y-2",children:[F,G,S]}),e[64]=G,e[65]=S,e[66]=J):J=e[66];let K;e[67]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(ce,{htmlFor:"status",children:"Status *"}),e[67]=K):K=e[67];let A;e[68]!==c?(A=g=>c("status",g),e[68]=c,e[69]=A):A=e[69];let Q;e[70]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx(ze,{children:s.jsx(Xe,{})}),e[70]=Q):Q=e[70];let $;e[71]===Symbol.for("react.memo_cache_sentinel")?($=s.jsxs(qe,{children:[s.jsx(me,{value:"active",children:"Active"}),s.jsx(me,{value:"inactive",children:"Inactive"})]}),e[71]=$):$=e[71];let E;e[72]!==a.status||e[73]!==A?(E=s.jsxs("div",{className:"space-y-2",children:[K,s.jsxs(Ve,{value:a.status,onValueChange:A,children:[Q,$]})]}),e[72]=a.status,e[73]=A,e[74]=E):E=e[74];let W;e[75]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx(ce,{children:"Roles"}),e[75]=W):W=e[75];let w;if(e[76]!==a.roles||e[77]!==h||e[78]!==O){let g;e[80]!==a.roles||e[81]!==O?(g=Y=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(os,{id:`role-${Y.id}`,checked:a.roles.includes(Y.id),onCheckedChange:()=>O(Y.id)}),s.jsx("label",{htmlFor:`role-${Y.id}`,className:"text-sm cursor-pointer",children:Y.name})]},Y.id),e[80]=a.roles,e[81]=O,e[82]=g):g=e[82],w=h.map(g),e[76]=a.roles,e[77]=h,e[78]=O,e[79]=w}else w=e[79];let T;e[83]!==w?(T=s.jsxs("div",{className:"space-y-2 col-span-2",children:[W,s.jsx("div",{className:"grid grid-cols-2 gap-4 border rounded-lg p-4",children:w})]}),e[83]=w,e[84]=T):T=e[84];let R;e[85]!==ee||e[86]!==L||e[87]!==D||e[88]!==J||e[89]!==E||e[90]!==T?(R=s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[ee,L,D,J,E,T]}),e[85]=ee,e[86]=L,e[87]=D,e[88]=J,e[89]=E,e[90]=T,e[91]=R):R=e[91];let C;e[92]!==l?(C=s.jsx(de,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e[92]=l,e[93]=C):C=e[93];let I;e[94]!==v?(I=s.jsx(de,{type:"submit",disabled:v,children:"Update"}),e[94]=v,e[95]=I):I=e[95];let d;e[96]!==C||e[97]!==I?(d=s.jsxs(as,{children:[C,I]}),e[96]=C,e[97]=I,e[98]=d):d=e[98];let x;e[99]!==ie||e[100]!==R||e[101]!==d?(x=s.jsxs(rs,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[B,s.jsxs("form",{onSubmit:ie,children:[R,d]})]}),e[99]=ie,e[100]=R,e[101]=d,e[102]=x):x=e[102];let le;return e[103]!==l||e[104]!==n||e[105]!==x?(le=s.jsx(is,{open:n,onOpenChange:l,children:x}),e[103]=l,e[104]=n,e[105]=x,e[106]=le):le=e[106],le}function Os(){Ee.error("Failed to update user")}function Hs(u){return u.id}function Ls(u){return u.id}function Bs(u){const e=Re.c(22),{open:n,onOpenChange:l,user:t}=u,{delete:h,processing:p}=es();let _;e[0]!==h||e[1]!==l||e[2]!==t.id?(_=()=>{h(`/users/${t.id}`,{onSuccess:()=>{l(!1),Ee.success("User deleted successfully")},onError:Vs})},e[0]=h,e[1]=l,e[2]=t.id,e[3]=_):_=e[3];const y=_;let r;e[4]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx(ts,{children:"Delete User"}),e[4]=r):r=e[4];let m;e[5]!==t.name?(m=s.jsxs(ss,{children:[r,s.jsxs(ls,{children:['Are you sure you want to delete "',t.name,'"? This action cannot be undone.']})]}),e[5]=t.name,e[6]=m):m=e[6];let a;e[7]!==l?(a=s.jsx(de,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e[7]=l,e[8]=a):a=e[8];let c;e[9]!==y||e[10]!==p?(c=s.jsx(de,{variant:"destructive",onClick:y,disabled:p,children:"Delete"}),e[9]=y,e[10]=p,e[11]=c):c=e[11];let i;e[12]!==a||e[13]!==c?(i=s.jsxs(as,{children:[a,c]}),e[12]=a,e[13]=c,e[14]=i):i=e[14];let v;e[15]!==m||e[16]!==i?(v=s.jsxs(rs,{children:[m,i]}),e[15]=m,e[16]=i,e[17]=v):v=e[17];let f;return e[18]!==l||e[19]!==n||e[20]!==v?(f=s.jsx(is,{open:n,onOpenChange:l,children:v}),e[18]=l,e[19]=n,e[20]=v,e[21]=f):f=e[21],f}function Vs(){Ee.error("Failed to delete user")}const zs=[{title:"Users",href:"/users"}];function gt(u){const e=Re.c(133),{users:n,roles:l,stats:t,filters:h}=u,{auth:p}=ms().props,[_,y]=fe.useState(!1),[r,m]=fe.useState(null),[a,c]=fe.useState(null),[i,v]=fe.useState(h.search||"");let f;e[0]!==h.role?(f=h.role?.toString()||"all",e[0]=h.role,e[1]=f):f=e[1];const[o,ae]=fe.useState(f),[Z]=fs(i,500);let ie;e[2]!==p.permissions?(ie=p.permissions.includes("create_users"),e[2]=p.permissions,e[3]=ie):ie=e[3];const M=ie;let ne;e[4]!==p.permissions?(ne=p.permissions.includes("edit_users"),e[4]=p.permissions,e[5]=ne):ne=e[5];const re=ne;let O;e[6]!==p.permissions?(O=p.permissions.includes("delete_users"),e[6]=p.permissions,e[7]=O):O=e[7];const B=O;let V;e[8]!==Z||e[9]!==h.per_page||e[10]!==o?(V=()=>{Qe.get("/users",{search:Z||void 0,role:o!=="all"?o:void 0,per_page:h.per_page},{preserveState:!0,preserveScroll:!0})},e[8]=Z,e[9]=h.per_page,e[10]=o,e[11]=V):V=e[11];let z;e[12]!==Z||e[13]!==o?(z=[Z,o],e[12]=Z,e[13]=o,e[14]=z):z=e[14],fe.useEffect(V,z);let k;e[15]===Symbol.for("react.memo_cache_sentinel")?(k=()=>{v(""),ae("all")},e[15]=k):k=e[15];const ee=k;let X;e[16]!==h.per_page||e[17]!==o||e[18]!==i?(X=b=>{Qe.get("/users",{page:b,search:i||void 0,role:o!=="all"?o:void 0,per_page:h.per_page},{preserveState:!0})},e[16]=h.per_page,e[17]=o,e[18]=i,e[19]=X):X=e[19];const j=X;let q;e[20]!==o||e[21]!==i?(q=b=>{Qe.get("/users",{search:i||void 0,role:o!=="all"?o:void 0,per_page:b},{preserveState:!0})},e[20]=o,e[21]=i,e[22]=q):q=e[22];const H=q,L=(n.current_page-1)*n.per_page+1,se=Math.min(n.current_page*n.per_page,n.total);let U;e[23]!==n?(U=()=>{const b=[],{current_page:Fe,last_page:Te}=n;if(Te<=7)return Array.from({length:Te},qs);b.push(1),Fe>3&&b.push("...");for(let Ke=Math.max(2,Fe-1);Ke<=Math.min(Te-1,Fe+1);Ke++)b.push(Ke);return Fe<Te-2&&b.push("..."),b.push(Te),b},e[23]=n,e[24]=U):U=e[24];const te=U;let P;e[25]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx(ds,{title:"Users"}),e[25]=P):P=e[25];let D;e[26]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx("h1",{className:"text-3xl font-bold",children:"Users"}),e[26]=D):D=e[26];let F;e[27]!==M?(F=M&&s.jsxs(de,{onClick:()=>y(!0),children:[s.jsx(Fs,{className:"mr-2 h-4 w-4"}),"Add User"]}),e[27]=M,e[28]=F):F=e[28];let N;e[29]!==F?(N=s.jsxs("div",{className:"flex justify-between items-center",children:[D,F]}),e[29]=F,e[30]=N):N=e[30];let G;e[31]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ye,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(ks,{className:"h-4 w-4 text-muted-foreground"})]}),e[31]=G):G=e[31];let S;e[32]!==t.total?(S=s.jsxs(Le,{children:[G,s.jsx(Be,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.total})})]}),e[32]=t.total,e[33]=S):S=e[33];let J;e[34]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ye,{className:"text-sm font-medium",children:"Active Users"}),s.jsx(Us,{className:"h-4 w-4 text-muted-foreground"})]}),e[34]=J):J=e[34];let K;e[35]!==t.active?(K=s.jsxs(Le,{children:[J,s.jsx(Be,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.active})})]}),e[35]=t.active,e[36]=K):K=e[36];let A;e[37]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ye,{className:"text-sm font-medium",children:"Inactive Users"}),s.jsx(As,{className:"h-4 w-4 text-muted-foreground"})]}),e[37]=A):A=e[37];let Q;e[38]!==t.inactive?(Q=s.jsxs(Le,{children:[A,s.jsx(Be,{children:s.jsx("div",{className:"text-2xl font-bold",children:t.inactive})})]}),e[38]=t.inactive,e[39]=Q):Q=e[39];let $;e[40]!==S||e[41]!==K||e[42]!==Q?($=s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[S,K,Q]}),e[40]=S,e[41]=K,e[42]=Q,e[43]=$):$=e[43];let E;e[44]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx($s,{className:"absolute left-2.5 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[44]=E):E=e[44];let W;e[45]===Symbol.for("react.memo_cache_sentinel")?(W=b=>v(b.target.value),e[45]=W):W=e[45];let w;e[46]!==i?(w=s.jsxs("div",{className:"relative w-64",children:[E,s.jsx(he,{placeholder:"Search users...",value:i,onChange:W,className:"pl-8 h-9"})]}),e[46]=i,e[47]=w):w=e[47];let T;e[48]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(ze,{className:"w-40 h-9",children:s.jsx(Xe,{placeholder:"Role"})}),e[48]=T):T=e[48];let R;e[49]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(me,{value:"all",children:"All Roles"}),e[49]=R):R=e[49];let C;e[50]!==l?(C=l.map(Xs),e[50]=l,e[51]=C):C=e[51];let I;e[52]!==C?(I=s.jsxs(qe,{children:[R,C]}),e[52]=C,e[53]=I):I=e[53];let d;e[54]!==o||e[55]!==I?(d=s.jsxs(Ve,{value:o,onValueChange:ae,children:[T,I]}),e[54]=o,e[55]=I,e[56]=d):d=e[56];let x;e[57]!==o||e[58]!==i?(x=(i||o!=="all")&&s.jsx(de,{variant:"ghost",size:"sm",onClick:ee,children:s.jsx(Ps,{className:"h-4 w-4"})}),e[57]=o,e[58]=i,e[59]=x):x=e[59];let le;e[60]!==w||e[61]!==d||e[62]!==x?(le=s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[w,d,x]}),e[60]=w,e[61]=d,e[62]=x,e[63]=le):le=e[63];const g=re?m:void 0,Y=B?c:void 0;let oe;e[64]!==l||e[65]!==g||e[66]!==Y||e[67]!==n.data?(oe=s.jsx(Es,{users:n.data,roles:l,onEdit:g,onDelete:Y}),e[64]=l,e[65]=g,e[66]=Y,e[67]=n.data,e[68]=oe):oe=e[68];let pe;e[69]!==se||e[70]!==L||e[71]!==n.total?(pe=s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",L," to ",se," of ",n.total," results"]}),e[69]=se,e[70]=L,e[71]=n.total,e[72]=pe):pe=e[72];let Ie;e[73]===Symbol.for("react.memo_cache_sentinel")?(Ie=s.jsx("span",{className:"text-sm text-muted-foreground",children:"Rows per page"}),e[73]=Ie):Ie=e[73];let xe;e[74]!==h.per_page?(xe=h.per_page.toString(),e[74]=h.per_page,e[75]=xe):xe=e[75];let Me;e[76]===Symbol.for("react.memo_cache_sentinel")?(Me=s.jsx(ze,{className:"w-20",children:s.jsx(Xe,{})}),e[76]=Me):Me=e[76];let Oe;e[77]===Symbol.for("react.memo_cache_sentinel")?(Oe=s.jsxs(qe,{children:[s.jsx(me,{value:"10",children:"10"}),s.jsx(me,{value:"25",children:"25"}),s.jsx(me,{value:"50",children:"50"}),s.jsx(me,{value:"100",children:"100"})]}),e[77]=Oe):Oe=e[77];let ue;e[78]!==H||e[79]!==xe?(ue=s.jsxs("div",{className:"flex items-center gap-2",children:[Ie,s.jsxs(Ve,{value:xe,onValueChange:H,children:[Me,Oe]})]}),e[78]=H,e[79]=xe,e[80]=ue):ue=e[80];let ge;e[81]!==pe||e[82]!==ue?(ge=s.jsxs("div",{className:"flex items-center gap-4",children:[pe,ue]}),e[81]=pe,e[82]=ue,e[83]=ge):ge=e[83];let je;e[84]!==j||e[85]!==n.current_page?(je=()=>j(n.current_page-1),e[84]=j,e[85]=n.current_page,e[86]=je):je=e[86];const Ge=n.current_page===1?"pointer-events-none opacity-50":"cursor-pointer";let ve;e[87]!==je||e[88]!==Ge?(ve=s.jsx(Ze,{children:s.jsx(us,{onClick:je,className:Ge})}),e[87]=je,e[88]=Ge,e[89]=ve):ve=e[89];let _e;e[90]!==te?(_e=te(),e[90]=te,e[91]=_e):_e=e[91];let be;e[92]!==j||e[93]!==_e||e[94]!==n.current_page?(be=_e.map((b,Fe)=>s.jsx(Ze,{children:b==="..."?s.jsx(ps,{}):s.jsx(xs,{onClick:()=>j(b),isActive:b===n.current_page,className:"cursor-pointer",children:b})},Fe)),e[92]=j,e[93]=_e,e[94]=n.current_page,e[95]=be):be=e[95];let ye;e[96]!==j||e[97]!==n.current_page?(ye=()=>j(n.current_page+1),e[96]=j,e[97]=n.current_page,e[98]=ye):ye=e[98];const Je=n.current_page===n.last_page?"pointer-events-none opacity-50":"cursor-pointer";let Ne;e[99]!==ye||e[100]!==Je?(Ne=s.jsx(Ze,{children:s.jsx(gs,{onClick:ye,className:Je})}),e[99]=ye,e[100]=Je,e[101]=Ne):Ne=e[101];let Se;e[102]!==ve||e[103]!==be||e[104]!==Ne?(Se=s.jsx(js,{children:s.jsxs(vs,{children:[ve,be,Ne]})}),e[102]=ve,e[103]=be,e[104]=Ne,e[105]=Se):Se=e[105];let we;e[106]!==ge||e[107]!==Se?(we=s.jsxs("div",{className:"flex items-center justify-between",children:[ge,Se]}),e[106]=ge,e[107]=Se,e[108]=we):we=e[108];let Ce;e[109]!==le||e[110]!==oe||e[111]!==we?(Ce=s.jsx(Le,{children:s.jsxs(Be,{className:"pt-6 space-y-4",children:[le,oe,we]})}),e[109]=le,e[110]=oe,e[111]=we,e[112]=Ce):Ce=e[112];let ke;e[113]!==N||e[114]!==$||e[115]!==Ce?(ke=s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[N,$,Ce]}),e[113]=N,e[114]=$,e[115]=Ce,e[116]=ke):ke=e[116];let Ue;e[117]!==M||e[118]!==_||e[119]!==l?(Ue=M&&s.jsx(Rs,{open:_,onOpenChange:y,roles:l}),e[117]=M,e[118]=_,e[119]=l,e[120]=Ue):Ue=e[120];let Pe;e[121]!==re||e[122]!==r||e[123]!==l?(Pe=re&&r&&s.jsx(Ms,{open:!!r,onOpenChange:b=>!b&&m(null),user:r,roles:l}),e[121]=re,e[122]=r,e[123]=l,e[124]=Pe):Pe=e[124];let De;e[125]!==B||e[126]!==a?(De=B&&a&&s.jsx(Bs,{open:!!a,onOpenChange:b=>!b&&c(null),user:a}),e[125]=B,e[126]=a,e[127]=De):De=e[127];let He;return e[128]!==ke||e[129]!==Ue||e[130]!==Pe||e[131]!==De?(He=s.jsxs(hs,{breadcrumbs:zs,children:[P,ke,Ue,Pe,De]}),e[128]=ke,e[129]=Ue,e[130]=Pe,e[131]=De,e[132]=He):He=e[132],He}function Xs(u){return s.jsx(me,{value:u.id.toString(),children:u.name},u.id)}function qs(u,e){return e+1}export{gt as default};
