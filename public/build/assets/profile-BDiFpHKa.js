import{e as De,c as be,r as je,j as r,F as Fe,a as Ee,u as qe,L as Ae,t as Ne,H as Qe}from"./app-DA8P16aJ.js";import{s as Le}from"./index-5gziHVdH.js";import{q as _e}from"./index-Cx2XN_pX.js";import{H as Ce}from"./heading-small-GFdzS3vO.js";import{I as Ie}from"./input-error-06e81oqY.js";import{B as O}from"./app-logo-icon-aF8iHKNe.js";import{e as He,d as Te,c as Re,g as Ue,f as ze,a as $e,b as Be}from"./dialog-BCBoqkbn.js";import{I as ce}from"./input-Ds1QuhcA.js";import{L as W}from"./label-DbpuiW4d.js";import{b as Ge,c as Me}from"./card-BI9gf0qd.js";import{f as Oe,g as Ve,e as Je}from"./app-sidebar-layout-DGZOHfM6.js";import{A as We}from"./app-layout-BNou2EYx.js";import{b as Ye,S as Ke}from"./layout-ZXBePN9q.js";import{T as Xe}from"./trash-2-BOswXdNj.js";/* empty css            */import"./app-logo-C7RnR8Dr.js";import"./index-D6VNnp71.js";import"./index-DDUJHK2j.js";import"./badge-XkX5NI_V.js";import"./separator-DUpwCwPk.js";import"./index-CE1SuMX5.js";const Ze=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],et=De("Camera",Ze),o=t=>({url:o.url(t),method:"get"});o.definition={methods:["get","head"],url:"/settings/profile"};o.url=t=>o.definition.url+_e(t);o.get=t=>({url:o.url(t),method:"get"});o.head=t=>({url:o.url(t),method:"head"});const ve=t=>({action:o.url(t),method:"get"});ve.get=t=>({action:o.url(t),method:"get"});ve.head=t=>({action:o.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});o.form=ve;const f=t=>({url:f.url(t),method:"patch"});f.definition={methods:["patch"],url:"/settings/profile"};f.url=t=>f.definition.url+_e(t);f.patch=t=>({url:f.url(t),method:"patch"});const Se=t=>({action:f.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});Se.patch=t=>({action:f.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});f.form=Se;const n=t=>({url:n.url(t),method:"delete"});n.definition={methods:["delete"],url:"/settings/profile"};n.url=t=>n.definition.url+_e(t);n.delete=t=>({url:n.url(t),method:"delete"});const we=t=>({action:n.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});we.delete=t=>({action:n.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});n.form=we;function tt(){const t=be.c(9),e=je.useRef(null);let h;t[0]===Symbol.for("react.memo_cache_sentinel")?(h=r.jsx(Ce,{title:"Delete account",description:"Delete your account and all of its resources"}),t[0]=h):h=t[0];let p;t[1]===Symbol.for("react.memo_cache_sentinel")?(p=r.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[r.jsx("p",{className:"font-medium",children:"Warning"}),r.jsx("p",{className:"text-sm",children:"Please proceed with caution, this cannot be undone."})]}),t[1]=p):p=t[1];let s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=r.jsx(ze,{asChild:!0,children:r.jsx(O,{variant:"destructive","data-test":"delete-user-button",children:"Delete account"})}),t[2]=s):s=t[2];let m,c;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=r.jsx($e,{children:"Are you sure you want to delete your account?"}),c=r.jsx(Be,{children:"Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."}),t[3]=m,t[4]=c):(m=t[3],c=t[4]);let g,x,d;t[5]===Symbol.for("react.memo_cache_sentinel")?(g=n.delete(),x={preserveScroll:!0},d=()=>e.current?.focus(),t[5]=g,t[6]=x,t[7]=d):(g=t[5],x=t[6],d=t[7]);let l;return t[8]===Symbol.for("react.memo_cache_sentinel")?(l=r.jsxs("div",{className:"space-y-6",children:[h,r.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[p,r.jsxs(He,{children:[s,r.jsxs(Te,{children:[m,c,r.jsx(Fe,{...g,options:x,onError:d,resetOnSuccess:!0,className:"space-y-6",children:i=>{const{resetAndClearErrors:V,processing:J,errors:a}=i;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(W,{htmlFor:"password",className:"sr-only",children:"Password"}),r.jsx(ce,{id:"password",type:"password",name:"password",ref:e,placeholder:"Password",autoComplete:"current-password"}),r.jsx(Ie,{message:a.password})]}),r.jsxs(Re,{className:"gap-2",children:[r.jsx(Ue,{asChild:!0,children:r.jsx(O,{variant:"secondary",onClick:()=>V(),children:"Cancel"})}),r.jsx(O,{variant:"destructive",disabled:J,asChild:!0,children:r.jsx("button",{type:"submit","data-test":"confirm-delete-user-button",children:"Delete account"})})]})]})}})]})]})]})]}),t[8]=l):l=t[8],l}const rt=[{title:"Profile",href:Ye().url}];function Pt(t){const e=be.c(101),{mustVerifyEmail:h,status:p}=t,{auth:s}=Ee().props,m=je.useRef(null),[c,g]=je.useState(null),x=s.user.phone||"";let d;e[0]!==s.user.email||e[1]!==s.user.name||e[2]!==x?(d={name:s.user.name,email:s.user.email,phone:x,profile_image:null,_method:"PATCH"},e[0]=s.user.email,e[1]=s.user.name,e[2]=x,e[3]=d):d=e[3];const{data:l,setData:i,post:V,processing:J,errors:a,recentlySuccessful:de}=qe(d),Pe=lt;let Y;e[4]!==i?(Y=u=>{const xe=u.target.files?.[0];if(xe){i("profile_image",xe);const ye=new FileReader;ye.onloadend=()=>{g(ye.result)},ye.readAsDataURL(xe)}},e[4]=i,e[5]=Y):Y=e[5];const ue=Y;let K;e[6]!==i?(K=()=>{g(null),i("profile_image",null),m.current&&(m.current.value="")},e[6]=i,e[7]=K):K=e[7];const fe=K;let X;e[8]!==V?(X=u=>{u.preventDefault(),V("/settings/profile",{preserveScroll:!0,onSuccess:()=>{Ne.success("Profile updated successfully"),g(null)},onError:st})},e[8]=V,e[9]=X):X=e[9];const he=X,ke=c||(s.user.profile_image?`/storage/${s.user.profile_image}`:null);let Z;e[10]===Symbol.for("react.memo_cache_sentinel")?(Z=r.jsx(Qe,{title:"Profile settings"}),e[10]=Z):Z=e[10];let ee;e[11]===Symbol.for("react.memo_cache_sentinel")?(ee=r.jsx(Ce,{title:"Profile information",description:"Update your name and email address"}),e[11]=ee):ee=e[11];let te;e[12]===Symbol.for("react.memo_cache_sentinel")?(te=r.jsx(W,{htmlFor:"name",children:"Name"}),e[12]=te):te=e[12];let y;e[13]!==i?(y=u=>i("name",u.target.value),e[13]=i,e[14]=y):y=e[14];let j;e[15]!==l.name||e[16]!==y?(j=r.jsx(ce,{id:"name",className:"mt-1 block w-full",value:l.name,onChange:y,required:!0,autoComplete:"name",placeholder:"Full name"}),e[15]=l.name,e[16]=y,e[17]=j):j=e[17];let _;e[18]!==a.name?(_=a.name&&r.jsx("p",{className:"text-sm text-destructive",children:a.name}),e[18]=a.name,e[19]=_):_=e[19];let v;e[20]!==j||e[21]!==_?(v=r.jsxs("div",{className:"grid gap-2",children:[te,j,_]}),e[20]=j,e[21]=_,e[22]=v):v=e[22];let re;e[23]===Symbol.for("react.memo_cache_sentinel")?(re=r.jsx(W,{htmlFor:"phone",children:"Phone Number"}),e[23]=re):re=e[23];let b;e[24]!==i?(b=u=>i("phone",u.target.value),e[24]=i,e[25]=b):b=e[25];let N;e[26]!==l.phone||e[27]!==b?(N=r.jsx(ce,{id:"phone",type:"tel",className:"mt-1 block w-full",value:l.phone,onChange:b,autoComplete:"tel",placeholder:"Phone number"}),e[26]=l.phone,e[27]=b,e[28]=N):N=e[28];let C;e[29]!==a.phone?(C=a.phone&&r.jsx("p",{className:"text-sm text-destructive",children:a.phone}),e[29]=a.phone,e[30]=C):C=e[30];let S;e[31]!==N||e[32]!==C?(S=r.jsxs("div",{className:"grid gap-2",children:[re,N,C]}),e[31]=N,e[32]=C,e[33]=S):S=e[33];let se;e[34]===Symbol.for("react.memo_cache_sentinel")?(se=r.jsx(W,{children:"Profile Picture"}),e[34]=se):se=e[34];const pe=ke||void 0;let w;e[35]!==l.name||e[36]!==pe?(w=r.jsx(Oe,{src:pe,alt:l.name}),e[35]=l.name,e[36]=pe,e[37]=w):w=e[37];let P;e[38]!==l.name?(P=Pe(l.name),e[38]=l.name,e[39]=P):P=e[39];let k;e[40]!==P?(k=r.jsx(Ve,{className:"text-lg",children:P}),e[40]=P,e[41]=k):k=e[41];let D;e[42]!==w||e[43]!==k?(D=r.jsxs(Je,{className:"h-20 w-20",children:[w,k]}),e[42]=w,e[43]=k,e[44]=D):D=e[44];let le,ae;e[45]===Symbol.for("react.memo_cache_sentinel")?(le=()=>m.current?.click(),ae=r.jsx(et,{className:"h-4 w-4 mr-2"}),e[45]=le,e[46]=ae):(le=e[45],ae=e[46]);const ge=s.user.profile_image?"Change":"Upload";let F;e[47]!==ge?(F=r.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:le,children:[ae,ge]}),e[47]=ge,e[48]=F):F=e[48];let E;e[49]!==s.user.profile_image||e[50]!==c||e[51]!==fe?(E=(s.user.profile_image||c)&&r.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:fe,children:[r.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Remove"]}),e[49]=s.user.profile_image,e[50]=c,e[51]=fe,e[52]=E):E=e[52];let q;e[53]!==F||e[54]!==E?(q=r.jsxs("div",{className:"flex gap-2",children:[F,E]}),e[53]=F,e[54]=E,e[55]=q):q=e[55];let A;e[56]!==D||e[57]!==q?(A=r.jsxs("div",{className:"flex items-center gap-4",children:[D,q]}),e[56]=D,e[57]=q,e[58]=A):A=e[58];let Q;e[59]!==ue?(Q=r.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:ue,className:"hidden"}),e[59]=ue,e[60]=Q):Q=e[60];let ie;e[61]===Symbol.for("react.memo_cache_sentinel")?(ie=r.jsx("p",{className:"text-sm text-muted-foreground",children:"JPG, PNG or GIF. Max size 2MB."}),e[61]=ie):ie=e[61];let L;e[62]!==a.profile_image?(L=a.profile_image&&r.jsx("p",{className:"text-sm text-destructive",children:a.profile_image}),e[62]=a.profile_image,e[63]=L):L=e[63];let I;e[64]!==A||e[65]!==Q||e[66]!==L?(I=r.jsxs("div",{className:"space-y-4",children:[se,A,Q,ie,L]}),e[64]=A,e[65]=Q,e[66]=L,e[67]=I):I=e[67];let oe;e[68]===Symbol.for("react.memo_cache_sentinel")?(oe=r.jsx(W,{htmlFor:"email",children:"Email address"}),e[68]=oe):oe=e[68];let H;e[69]!==i?(H=u=>i("email",u.target.value),e[69]=i,e[70]=H):H=e[70];let T;e[71]!==l.email||e[72]!==H?(T=r.jsx(ce,{id:"email",type:"email",className:"mt-1 block w-full",value:l.email,onChange:H,required:!0,autoComplete:"username",placeholder:"Email address"}),e[71]=l.email,e[72]=H,e[73]=T):T=e[73];let R;e[74]!==a.email?(R=a.email&&r.jsx("p",{className:"text-sm text-destructive",children:a.email}),e[74]=a.email,e[75]=R):R=e[75];let U;e[76]!==T||e[77]!==R?(U=r.jsxs("div",{className:"grid gap-2",children:[oe,T,R]}),e[76]=T,e[77]=R,e[78]=U):U=e[78];let z;e[79]!==s.user.email_verified_at||e[80]!==h||e[81]!==p?(z=h&&s.user.email_verified_at===null&&r.jsxs("div",{children:[r.jsxs("p",{className:"-mt-4 text-sm text-muted-foreground",children:["Your email address is unverified."," ",r.jsx(Ae,{href:Le().url,as:"button",className:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",children:"Click here to resend the verification email."})]}),p==="verification-link-sent"&&r.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:"A new verification link has been sent to your email address."})]}),e[79]=s.user.email_verified_at,e[80]=h,e[81]=p,e[82]=z):z=e[82];let $;e[83]!==J?($=r.jsx(O,{disabled:J,type:"submit",children:"Save"}),e[83]=J,e[84]=$):$=e[84];let B;e[85]!==de?(B=de&&r.jsx("p",{className:"text-sm text-green-600",children:"Saved"}),e[85]=de,e[86]=B):B=e[86];let G;e[87]!==$||e[88]!==B?(G=r.jsxs("div",{className:"flex items-center gap-4",children:[$,B]}),e[87]=$,e[88]=B,e[89]=G):G=e[89];let M;e[90]!==he||e[91]!==v||e[92]!==S||e[93]!==I||e[94]!==U||e[95]!==z||e[96]!==G?(M=r.jsxs("div",{className:"space-y-6",children:[ee,r.jsx(Ge,{children:r.jsx(Me,{className:"pt-6",children:r.jsxs("form",{onSubmit:he,className:"space-y-6",children:[v,S,I,U,z,G]})})})]}),e[90]=he,e[91]=v,e[92]=S,e[93]=I,e[94]=U,e[95]=z,e[96]=G,e[97]=M):M=e[97];let ne;e[98]===Symbol.for("react.memo_cache_sentinel")?(ne=r.jsx(tt,{}),e[98]=ne):ne=e[98];let me;return e[99]!==M?(me=r.jsxs(We,{breadcrumbs:rt,children:[Z,r.jsxs(Ke,{children:[M,ne]})]}),e[99]=M,e[100]=me):me=e[100],me}function st(){Ne.error("Failed to update profile")}function lt(t){return t.split(" ").map(at).join("").toUpperCase().slice(0,2)}function at(t){return t[0]}export{Pt as default};
