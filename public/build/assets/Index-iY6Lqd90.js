import{e as le,c as ne,a as re,r as D,j as s,b as Z,H as ce}from"./app-CWQzBnNl.js";import{A as oe}from"./app-layout-Dh3nhCHq.js";import{B as r}from"./app-logo-icon-Bqc3Bh6X.js";import{b as J,c as K,C as de,a as me,d as ue}from"./card-COiKwC-H.js";import{I as Q}from"./input-DKKmjKYk.js";import{L as B}from"./label-DqhS0g7n.js";import{T as xe}from"./textarea-C9vQkO1v.js";import{B as he}from"./badge-CJSffrFS.js";import{e as W,f as pe,d as X,D as Y,a as ee,b as se}from"./dialog-Dp1Vet2W.js";import{c as fe,S as je,a as ge,b as ve,d as te}from"./select-BvmEL5Qi.js";import{P as ae}from"./plus-BWGwfkAm.js";import{T as Ne}from"./trash-2-DsBe0dhr.js";/* empty css            */import"./app-sidebar-layout-DS8fb3G9.js";import"./index-YditoyNA.js";import"./app-logo-DqKSA1DP.js";import"./index-MWaObWSV.js";import"./index-Cx2XN_pX.js";import"./index-DIv5bmjL.js";import"./chevron-down-wI3JFMuA.js";import"./check-d8A9s_PJ.js";const ye=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ce=le("Pen",ye);const be=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],De=le("Zap",be);function Ze(ie){const e=ne.c(52),{features:o}=ie,{auth:i}=re().props,[H,N]=D.useState(!1),[n,$]=D.useState(null),[M,S]=D.useState(!1),[y,G]=D.useState(null);let F;e[0]===Symbol.for("react.memo_cache_sentinel")?(F={name:"",description:"",icon:"",status:"active"},e[0]=F):F=e[0];const[a,c]=D.useState(F);let w;e[1]!==i.permissions?(w=i.permissions.includes("create_plans"),e[1]=i.permissions,e[2]=w):w=e[2];const d=w;let T;e[3]!==i.permissions?(T=i.permissions.includes("edit_plans"),e[3]=i.permissions,e[4]=T):T=e[4];const C=T;let _;e[5]!==i.permissions?(_=i.permissions.includes("delete_plans"),e[5]=i.permissions,e[6]=_):_=e[6];const b=_;let k;e[7]===Symbol.for("react.memo_cache_sentinel")?(k=t=>{t?($(t),c({name:t.name,description:t.description||"",icon:t.icon||"",status:t.status})):($(null),c({name:"",description:"",icon:"",status:"active"})),N(!0)},e[7]=k):k=e[7];const q=k;let A;e[8]!==n||e[9]!==a?(A=async t=>{t.preventDefault(),n?Z.put(`/features/${n.id}`,a,{onSuccess:()=>{N(!1),$(null)}}):Z.post("/features",a,{onSuccess:()=>{N(!1),c({name:"",description:"",icon:"",status:"active"})}})},e[8]=n,e[9]=a,e[10]=A):A=e[10];const R=A;let I;e[11]!==y?(I=()=>{y&&Z.delete(`/features/${y.id}`,{onSuccess:()=>{S(!1),G(null)}})},e[11]=y,e[12]=I):I=e[12];const U=I;let P;e[13]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx(ce,{title:"Features"}),e[13]=P):P=e[13];let E;e[14]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Plan Features"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage gym features for membership plans"})]}),e[14]=E):E=e[14];let m;e[15]!==d||e[16]!==n||e[17]!==a||e[18]!==R||e[19]!==H?(m=d&&s.jsxs(W,{open:H,onOpenChange:N,children:[s.jsx(pe,{asChild:!0,children:s.jsxs(r,{onClick:()=>q(),children:[s.jsx(ae,{className:"mr-2 h-4 w-4"}),"Add Feature"]})}),s.jsxs(X,{children:[s.jsxs(Y,{children:[s.jsx(ee,{children:n?"Edit Feature":"Add New Feature"}),s.jsx(se,{children:n?"Update the feature details":"Create a new feature for your gym plans"})]}),s.jsxs("form",{onSubmit:R,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(B,{htmlFor:"name",children:"Feature Name"}),s.jsx(Q,{id:"name",placeholder:"e.g., Swimming Pool",value:a.name,onChange:t=>c({...a,name:t.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(B,{htmlFor:"description",children:"Description"}),s.jsx(xe,{id:"description",placeholder:"Describe this feature...",value:a.description,onChange:t=>c({...a,description:t.target.value}),rows:3})]}),s.jsxs("div",{children:[s.jsx(B,{htmlFor:"icon",children:"Icon Name"}),s.jsx(Q,{id:"icon",placeholder:"e.g., waves, dumbbell, users",value:a.icon,onChange:t=>c({...a,icon:t.target.value})})]}),s.jsxs("div",{children:[s.jsx(B,{htmlFor:"status",children:"Status"}),s.jsxs(fe,{value:a.status,onValueChange:t=>c({...a,status:t}),children:[s.jsx(je,{children:s.jsx(ge,{})}),s.jsxs(ve,{children:[s.jsx(te,{value:"active",children:"Active"}),s.jsx(te,{value:"inactive",children:"Inactive"})]})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(r,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancel"}),s.jsxs(r,{type:"submit",children:[n?"Update":"Create"," Feature"]})]})]})]})]}),e[15]=d,e[16]=n,e[17]=a,e[18]=R,e[19]=H,e[20]=m):m=e[20];let u;e[21]!==m?(u=s.jsxs("div",{className:"flex items-center justify-between",children:[E,m]}),e[21]=m,e[22]=u):u=e[22];let x;if(e[23]!==b||e[24]!==C||e[25]!==o){let t;e[27]!==b||e[28]!==C?(t=l=>s.jsxs(J,{className:"flex flex-col",children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(me,{className:"text-lg",children:l.name}),s.jsx(ue,{className:"text-xs mt-1",children:l.slug})]}),s.jsx(he,{variant:l.status==="active"?"default":"secondary",children:l.status})]})}),s.jsxs(K,{className:"flex-1 space-y-4",children:[l.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:l.description}),l.icon&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.jsx("span",{className:"font-semibold",children:"Icon:"})," ",l.icon]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[C&&s.jsx(r,{size:"sm",variant:"outline",onClick:()=>q(l),children:s.jsx(Ce,{className:"h-4 w-4"})}),b&&s.jsx(r,{size:"sm",variant:"outline",className:"text-destructive",onClick:()=>{G(l),S(!0)},children:s.jsx(Ne,{className:"h-4 w-4"})})]})]})]},l.id),e[27]=b,e[28]=C,e[29]=t):t=e[29],x=o.map(t),e[23]=b,e[24]=C,e[25]=o,e[26]=x}else x=e[26];let h;e[30]!==x?(h=s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:x}),e[30]=x,e[31]=h):h=e[31];let p;e[32]!==d||e[33]!==o.length?(p=o.length===0&&s.jsx(J,{children:s.jsxs(K,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(De,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No features yet"}),s.jsx("p",{className:"text-muted-foreground text-center mt-2",children:"Create your first feature to get started"}),d&&s.jsxs(r,{className:"mt-4",onClick:()=>q(),children:[s.jsx(ae,{className:"mr-2 h-4 w-4"}),"Add Feature"]})]})}),e[32]=d,e[33]=o.length,e[34]=p):p=e[34];let O;e[35]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(ee,{children:"Delete Feature"}),e[35]=O):O=e[35];const V=y?.name;let f;e[36]!==V?(f=s.jsxs(Y,{children:[O,s.jsxs(se,{children:['Are you sure you want to delete "',V,'"? This action cannot be undone.']})]}),e[36]=V,e[37]=f):f=e[37];let L;e[38]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(r,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),e[38]=L):L=e[38];let j;e[39]!==U?(j=s.jsxs("div",{className:"flex gap-2 justify-end",children:[L,s.jsx(r,{variant:"destructive",onClick:U,children:"Delete"})]}),e[39]=U,e[40]=j):j=e[40];let g;e[41]!==f||e[42]!==j?(g=s.jsxs(X,{children:[f,j]}),e[41]=f,e[42]=j,e[43]=g):g=e[43];let v;e[44]!==M||e[45]!==g?(v=s.jsx(W,{open:M,onOpenChange:S,children:g}),e[44]=M,e[45]=g,e[46]=v):v=e[46];let z;return e[47]!==u||e[48]!==h||e[49]!==p||e[50]!==v?(z=s.jsxs(oe,{children:[P,s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[u,h,p,v]})]}),e[47]=u,e[48]=h,e[49]=p,e[50]=v,e[51]=z):z=e[51],z}export{Ze as default};
