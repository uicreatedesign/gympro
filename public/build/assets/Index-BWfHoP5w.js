import{e as le,c as ne,a as re,r as D,j as s,b as q,H as ce}from"./app-DA8P16aJ.js";import{A as oe}from"./app-layout-BNou2EYx.js";import{B as r}from"./app-logo-icon-aF8iHKNe.js";import{b as J,c as K,C as de,a as me,d as ue}from"./card-BI9gf0qd.js";import{I as Q}from"./input-Ds1QuhcA.js";import{L as H}from"./label-DbpuiW4d.js";import{T as xe}from"./textarea-PggE9E7W.js";import{B as he}from"./badge-XkX5NI_V.js";import{e as W,f as pe,d as X,D as Y,a as ee,b as se}from"./dialog-BCBoqkbn.js";import{c as fe,S as je,a as ge,b as ve,d as te}from"./select-Ccci-mmy.js";import{P as ae}from"./plus-DalRJC5s.js";import{Z as Ne}from"./app-sidebar-layout-DGZOHfM6.js";import{T as Ce}from"./trash-2-BOswXdNj.js";/* empty css            */import"./index-D6VNnp71.js";import"./app-logo-C7RnR8Dr.js";import"./index-DDUJHK2j.js";import"./index-DOQ3QREh.js";import"./chevron-down-UK202iGu.js";import"./check-LxSW_rqt.js";import"./index-Cx2XN_pX.js";const ye=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],be=le("Pen",ye);function Ze(ie){const e=ne.c(52),{features:o}=ie,{auth:l}=re().props,[z,N]=D.useState(!1),[n,$]=D.useState(null),[M,S]=D.useState(!1),[C,G]=D.useState(null);let F;e[0]===Symbol.for("react.memo_cache_sentinel")?(F={name:"",description:"",icon:"",status:"active"},e[0]=F):F=e[0];const[a,c]=D.useState(F);let w;e[1]!==l.permissions?(w=l.permissions.includes("create_plans"),e[1]=l.permissions,e[2]=w):w=e[2];const d=w;let T;e[3]!==l.permissions?(T=l.permissions.includes("edit_plans"),e[3]=l.permissions,e[4]=T):T=e[4];const y=T;let k;e[5]!==l.permissions?(k=l.permissions.includes("delete_plans"),e[5]=l.permissions,e[6]=k):k=e[6];const b=k;let _;e[7]===Symbol.for("react.memo_cache_sentinel")?(_=t=>{t?($(t),c({name:t.name,description:t.description||"",icon:t.icon||"",status:t.status})):($(null),c({name:"",description:"",icon:"",status:"active"})),N(!0)},e[7]=_):_=e[7];const R=_;let A;e[8]!==n||e[9]!==a?(A=async t=>{t.preventDefault(),n?q.put(`/features/${n.id}`,a,{onSuccess:()=>{N(!1),$(null)}}):q.post("/features",a,{onSuccess:()=>{N(!1),c({name:"",description:"",icon:"",status:"active"})}})},e[8]=n,e[9]=a,e[10]=A):A=e[10];const U=A;let I;e[11]!==C?(I=()=>{C&&q.delete(`/features/${C.id}`,{onSuccess:()=>{S(!1),G(null)}})},e[11]=C,e[12]=I):I=e[12];const V=I;let P;e[13]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx(ce,{title:"Features"}),e[13]=P):P=e[13];let E;e[14]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Plan Features"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage gym features for membership plans"})]}),e[14]=E):E=e[14];let m;e[15]!==d||e[16]!==n||e[17]!==a||e[18]!==U||e[19]!==z?(m=d&&s.jsxs(W,{open:z,onOpenChange:N,children:[s.jsx(pe,{asChild:!0,children:s.jsxs(r,{onClick:()=>R(),children:[s.jsx(ae,{className:"mr-2 h-4 w-4"}),"Add Feature"]})}),s.jsxs(X,{children:[s.jsxs(Y,{children:[s.jsx(ee,{children:n?"Edit Feature":"Add New Feature"}),s.jsx(se,{children:n?"Update the feature details":"Create a new feature for your gym plans"})]}),s.jsxs("form",{onSubmit:U,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(H,{htmlFor:"name",children:"Feature Name"}),s.jsx(Q,{id:"name",placeholder:"e.g., Swimming Pool",value:a.name,onChange:t=>c({...a,name:t.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"description",children:"Description"}),s.jsx(xe,{id:"description",placeholder:"Describe this feature...",value:a.description,onChange:t=>c({...a,description:t.target.value}),rows:3})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"icon",children:"Icon Name"}),s.jsx(Q,{id:"icon",placeholder:"e.g., waves, dumbbell, users",value:a.icon,onChange:t=>c({...a,icon:t.target.value})})]}),s.jsxs("div",{children:[s.jsx(H,{htmlFor:"status",children:"Status"}),s.jsxs(fe,{value:a.status,onValueChange:t=>c({...a,status:t}),children:[s.jsx(je,{children:s.jsx(ge,{})}),s.jsxs(ve,{children:[s.jsx(te,{value:"active",children:"Active"}),s.jsx(te,{value:"inactive",children:"Inactive"})]})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(r,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancel"}),s.jsxs(r,{type:"submit",children:[n?"Update":"Create"," Feature"]})]})]})]})]}),e[15]=d,e[16]=n,e[17]=a,e[18]=U,e[19]=z,e[20]=m):m=e[20];let u;e[21]!==m?(u=s.jsxs("div",{className:"flex items-center justify-between",children:[E,m]}),e[21]=m,e[22]=u):u=e[22];let x;if(e[23]!==b||e[24]!==y||e[25]!==o){let t;e[27]!==b||e[28]!==y?(t=i=>s.jsxs(J,{className:"flex flex-col",children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(me,{className:"text-lg",children:i.name}),s.jsx(ue,{className:"text-xs mt-1",children:i.slug})]}),s.jsx(he,{variant:i.status==="active"?"default":"secondary",children:i.status})]})}),s.jsxs(K,{className:"flex-1 space-y-4",children:[i.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:i.description}),i.icon&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.jsx("span",{className:"font-semibold",children:"Icon:"})," ",i.icon]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[y&&s.jsx(r,{size:"sm",variant:"outline",onClick:()=>R(i),children:s.jsx(be,{className:"h-4 w-4"})}),b&&s.jsx(r,{size:"sm",variant:"outline",className:"text-destructive",onClick:()=>{G(i),S(!0)},children:s.jsx(Ce,{className:"h-4 w-4"})})]})]})]},i.id),e[27]=b,e[28]=y,e[29]=t):t=e[29],x=o.map(t),e[23]=b,e[24]=y,e[25]=o,e[26]=x}else x=e[26];let h;e[30]!==x?(h=s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:x}),e[30]=x,e[31]=h):h=e[31];let p;e[32]!==d||e[33]!==o.length?(p=o.length===0&&s.jsx(J,{children:s.jsxs(K,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Ne,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No features yet"}),s.jsx("p",{className:"text-muted-foreground text-center mt-2",children:"Create your first feature to get started"}),d&&s.jsxs(r,{className:"mt-4",onClick:()=>R(),children:[s.jsx(ae,{className:"mr-2 h-4 w-4"}),"Add Feature"]})]})}),e[32]=d,e[33]=o.length,e[34]=p):p=e[34];let O;e[35]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(ee,{children:"Delete Feature"}),e[35]=O):O=e[35];const Z=C?.name;let f;e[36]!==Z?(f=s.jsxs(Y,{children:[O,s.jsxs(se,{children:['Are you sure you want to delete "',Z,'"? This action cannot be undone.']})]}),e[36]=Z,e[37]=f):f=e[37];let L;e[38]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(r,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),e[38]=L):L=e[38];let j;e[39]!==V?(j=s.jsxs("div",{className:"flex gap-2 justify-end",children:[L,s.jsx(r,{variant:"destructive",onClick:V,children:"Delete"})]}),e[39]=V,e[40]=j):j=e[40];let g;e[41]!==f||e[42]!==j?(g=s.jsxs(X,{children:[f,j]}),e[41]=f,e[42]=j,e[43]=g):g=e[43];let v;e[44]!==M||e[45]!==g?(v=s.jsx(W,{open:M,onOpenChange:S,children:g}),e[44]=M,e[45]=g,e[46]=v):v=e[46];let B;return e[47]!==u||e[48]!==h||e[49]!==p||e[50]!==v?(B=s.jsxs(oe,{children:[P,s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[u,h,p,v]})]}),e[47]=u,e[48]=h,e[49]=p,e[50]=v,e[51]=B):B=e[51],B}export{Ze as default};
