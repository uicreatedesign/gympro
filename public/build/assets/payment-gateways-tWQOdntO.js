import{r as p,j as t,c as A,u as V,H as U,t as B}from"./app-BszgJMo-.js";import{A as W}from"./app-layout-BtO4vqiq.js";import{S as z}from"./layout-DxNVZU9j.js";import{C as G,a as q,d as K,b as X,c as Z}from"./card-Ck00td-d.js";import{a as J,u as $,c as I,B as Q}from"./app-logo-icon-BgP1ljne.js";import{I as R}from"./input-SX_5I1dP.js";import{L as k}from"./label-Dw0GeYYQ.js";import{u as Y,c as ee,a as te}from"./index-Bu1MMGS5.js";import{u as ne}from"./index-BSKlmayO.js";import{c as se,S as re,a as oe,b as ae,d as T}from"./select-CrxB0dfj.js";/* empty css            */import"./app-sidebar-layout-ChmooSoC.js";import"./index-s20kuZOn.js";import"./index-Cx2XN_pX.js";import"./index-C5gQAezQ.js";import"./chevron-down-6seKikr8.js";import"./check-D_V-u4T3.js";function ce(s,e=[]){let n=[];function o(i,a){const l=p.createContext(a),d=n.length;n=[...n,a];const c=m=>{const{scope:_,children:h,...f}=m,b=_?.[s]?.[d]||l,v=p.useMemo(()=>f,Object.values(f));return t.jsx(b.Provider,{value:v,children:h})};c.displayName=i+"Provider";function u(m,_){const h=_?.[s]?.[d]||l,f=p.useContext(h);if(f)return f;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[c,u]}const r=()=>{const i=n.map(a=>p.createContext(a));return function(l){const d=l?.[s]||i;return p.useMemo(()=>({[`__scope${s}`]:{...l,[s]:d}}),[l,d])}};return r.scopeName=s,[o,ie(r,...e)]}function ie(...s){const e=s[0];if(s.length===1)return e;const n=()=>{const o=s.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const a=o.reduce((l,{useScope:d,scopeName:c})=>{const m=d(i)[`__scope${c}`];return{...l,...m}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function le(s){const e=pe(s),n=p.forwardRef((o,r)=>{const{children:i,...a}=o,l=p.Children.toArray(i),d=l.find(ue);if(d){const c=d.props.children,u=l.map(m=>m===d?p.Children.count(c)>1?p.Children.only(null):p.isValidElement(c)?c.props.children:null:m);return t.jsx(e,{...a,ref:r,children:p.isValidElement(c)?p.cloneElement(c,void 0,u):null})}return t.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${s}.Slot`,n}function pe(s){const e=p.forwardRef((n,o)=>{const{children:r,...i}=n;if(p.isValidElement(r)){const a=me(r),l=he(i,r.props);return r.type!==p.Fragment&&(l.ref=o?J(o,a):a),p.cloneElement(r,l)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${s}.SlotClone`,e}var de=Symbol("radix.slottable");function ue(s){return p.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===de}function he(s,e){const n={...e};for(const o in e){const r=s[o],i=e[o];/^on[A-Z]/.test(o)?r&&i?n[o]=(...l)=>{const d=i(...l);return r(...l),d}:r&&(n[o]=r):o==="style"?n[o]={...r,...i}:o==="className"&&(n[o]=[r,i].filter(Boolean).join(" "))}return{...s,...n}}function me(s){let e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?s.ref:(e=Object.getOwnPropertyDescriptor(s,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?s.props.ref:s.props.ref||s.ref)}var fe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],D=fe.reduce((s,e)=>{const n=le(`Primitive.${e}`),o=p.forwardRef((r,i)=>{const{asChild:a,...l}=r,d=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(d,{...l,ref:i})});return o.displayName=`Primitive.${e}`,{...s,[e]:o}},{}),E="Switch",[_e]=ce(E),[xe,ye]=_e(E),O=p.forwardRef((s,e)=>{const{__scopeSwitch:n,name:o,checked:r,defaultChecked:i,required:a,disabled:l,value:d="on",onCheckedChange:c,form:u,...m}=s,[_,h]=p.useState(null),f=$(e,x=>h(x)),b=p.useRef(!1),v=_?u||!!_.closest("form"):!0,[S,j]=Y({prop:r,defaultProp:i??!1,onChange:c,caller:E});return t.jsxs(xe,{scope:n,checked:S,disabled:l,children:[t.jsx(D.button,{type:"button",role:"switch","aria-checked":S,"aria-required":a,"data-state":L(S),"data-disabled":l?"":void 0,disabled:l,value:d,...m,ref:f,onClick:ee(s.onClick,x=>{j(g=>!g),v&&(b.current=x.isPropagationStopped(),b.current||x.stopPropagation())})}),v&&t.jsx(M,{control:_,bubbles:!b.current,name:o,value:d,checked:S,required:a,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});O.displayName=E;var F="SwitchThumb",H=p.forwardRef((s,e)=>{const{__scopeSwitch:n,...o}=s,r=ye(F,n);return t.jsx(D.span,{"data-state":L(r.checked),"data-disabled":r.disabled?"":void 0,...o,ref:e})});H.displayName=F;var be="SwitchBubbleInput",M=p.forwardRef(({__scopeSwitch:s,control:e,checked:n,bubbles:o=!0,...r},i)=>{const a=p.useRef(null),l=$(a,i),d=ne(n),c=te(e);return p.useEffect(()=>{const u=a.current;if(!u)return;const m=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&h){const f=new Event("click",{bubbles:o});h.call(u,n),u.dispatchEvent(f)}},[d,n,o]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:l,style:{...r.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});M.displayName=be;function L(s){return s?"checked":"unchecked"}var ve=O,Se=H;function ge(s){const e=A.c(9);let n,o;e[0]!==s?({className:n,...o}=s,e[0]=s,e[1]=n,e[2]=o):(n=e[1],o=e[2]);let r;e[3]!==n?(r=I("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),e[3]=n,e[4]=r):r=e[4];let i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(Se,{"data-slot":"switch-thumb",className:I("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")}),e[5]=i):i=e[5];let a;return e[6]!==o||e[7]!==r?(a=t.jsx(ve,{"data-slot":"switch",className:r,...o,children:i}),e[6]=o,e[7]=r,e[8]=a):a=e[8],a}function Ve(s){const e=A.c(33),{settings:n}=s,o=n.phonepe_enabled==="1",r=n.phonepe_merchant_id||"",i=n.phonepe_salt_key||"",a=n.phonepe_salt_index||"1",l=n.phonepe_env||"UAT";let d;e[0]!==o||e[1]!==r||e[2]!==i||e[3]!==a||e[4]!==l?(d={phonepe_enabled:o,phonepe_merchant_id:r,phonepe_salt_key:i,phonepe_salt_index:a,phonepe_env:l},e[0]=o,e[1]=r,e[2]=i,e[3]=a,e[4]=l,e[5]=d):d=e[5];const{data:c,setData:u,post:m,processing:_,errors:h}=V(d);let f;e[6]!==m?(f=y=>{y.preventDefault(),m("/settings/payment-gateways",{onSuccess:Ce,onError:je})},e[6]=m,e[7]=f):f=e[7];const b=f;let v;e[8]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(U,{title:"Payment Gateways"}),e[8]=v):v=e[8];let S;e[9]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsxs(G,{children:[t.jsx(q,{children:"PhonePe Payment Gateway"}),t.jsx(K,{children:"Configure PhonePe payment integration"})]}),e[9]=S):S=e[9];let j;e[10]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(k,{children:"Enable PhonePe"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow members to purchase plans via PhonePe"})]}),e[10]=j):j=e[10];let x;e[11]!==u?(x=y=>u("phonepe_enabled",y),e[11]=u,e[12]=x):x=e[12];let g;e[13]!==c.phonepe_enabled||e[14]!==x?(g=t.jsxs("div",{className:"flex items-center justify-between",children:[j,t.jsx(ge,{checked:c.phonepe_enabled,onCheckedChange:x})]}),e[13]=c.phonepe_enabled,e[14]=x,e[15]=g):g=e[15];let C;e[16]!==c.phonepe_enabled||e[17]!==c.phonepe_env||e[18]!==c.phonepe_merchant_id||e[19]!==c.phonepe_salt_index||e[20]!==c.phonepe_salt_key||e[21]!==h||e[22]!==u?(C=c.phonepe_enabled&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(k,{htmlFor:"phonepe_merchant_id",children:"Merchant ID"}),t.jsx(R,{id:"phonepe_merchant_id",value:c.phonepe_merchant_id,onChange:y=>u("phonepe_merchant_id",y.target.value),placeholder:"Enter PhonePe Merchant ID"}),h.phonepe_merchant_id&&t.jsx("p",{className:"text-sm text-red-600",children:h.phonepe_merchant_id})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(k,{htmlFor:"phonepe_salt_key",children:"Salt Key"}),t.jsx(R,{id:"phonepe_salt_key",type:"password",value:c.phonepe_salt_key,onChange:y=>u("phonepe_salt_key",y.target.value),placeholder:"Enter PhonePe Salt Key"}),h.phonepe_salt_key&&t.jsx("p",{className:"text-sm text-red-600",children:h.phonepe_salt_key})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(k,{htmlFor:"phonepe_salt_index",children:"Salt Index"}),t.jsx(R,{id:"phonepe_salt_index",value:c.phonepe_salt_index,onChange:y=>u("phonepe_salt_index",y.target.value),placeholder:"1"}),h.phonepe_salt_index&&t.jsx("p",{className:"text-sm text-red-600",children:h.phonepe_salt_index})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(k,{htmlFor:"phonepe_env",children:"Environment"}),t.jsxs(se,{value:c.phonepe_env,onValueChange:y=>u("phonepe_env",y),children:[t.jsx(re,{children:t.jsx(oe,{})}),t.jsxs(ae,{children:[t.jsx(T,{value:"UAT",children:"UAT (Testing)"}),t.jsx(T,{value:"PRODUCTION",children:"Production"})]})]}),h.phonepe_env&&t.jsx("p",{className:"text-sm text-red-600",children:h.phonepe_env})]})]}),e[16]=c.phonepe_enabled,e[17]=c.phonepe_env,e[18]=c.phonepe_merchant_id,e[19]=c.phonepe_salt_index,e[20]=c.phonepe_salt_key,e[21]=h,e[22]=u,e[23]=C):C=e[23];let w;e[24]!==g||e[25]!==C?(w=t.jsxs(X,{children:[S,t.jsxs(Z,{className:"space-y-4",children:[g,C]})]}),e[24]=g,e[25]=C,e[26]=w):w=e[26];let P;e[27]!==_?(P=t.jsx("div",{className:"flex justify-end",children:t.jsx(Q,{type:"submit",disabled:_,children:"Save Settings"})}),e[27]=_,e[28]=P):P=e[28];let N;return e[29]!==b||e[30]!==w||e[31]!==P?(N=t.jsxs(W,{children:[v,t.jsx(z,{children:t.jsxs("form",{onSubmit:b,className:"space-y-6",children:[w,P]})})]}),e[29]=b,e[30]=w,e[31]=P,e[32]=N):N=e[32],N}function je(){return B.error("Failed to update settings")}function Ce(){return B.success("Payment gateway settings updated successfully")}export{Ve as default};
