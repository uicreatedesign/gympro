import{c as I,u as T,j as t,H as A,t as E}from"./app-cNXeGScd.js";import{A as D}from"./app-layout-BuBPLU6c.js";import{S as G}from"./layout-Y545UrFS.js";import{C as L,a as U,d as H,b as R,c as B}from"./card-Bv1eHmK_.js";import{B as K}from"./app-logo-icon-BVEFLWIi.js";import{I as k}from"./input-B6ChAk_-.js";import{L as d}from"./label-nzuE_3dg.js";import{S as M}from"./switch-BfztCVWA.js";import{c as O,S as V,a as $,b as q,d as w}from"./select-B_vkAFMk.js";/* empty css            */import"./app-sidebar-layout-Bojxd45Y.js";import"./index-DAn-omQv.js";import"./index-Cmw99ND_.js";import"./index-Cx2XN_pX.js";import"./index-CE1SuMX5.js";import"./index-Be5GoQ22.js";import"./chevron-down-Bl9OOBa4.js";import"./check-Cxb3bKHS.js";const z=[{title:"Payment Gateways",href:"/settings/payment-gateways"}];function _e(F){const e=I.c(33),{settings:c}=F,f=c.phonepe_enabled==="1",v=c.phonepe_merchant_id||"",g=c.phonepe_salt_key||"",b=c.phonepe_salt_index||"1",S=c.phonepe_env||"UAT";let m;e[0]!==f||e[1]!==v||e[2]!==g||e[3]!==b||e[4]!==S?(m={phonepe_enabled:f,phonepe_merchant_id:v,phonepe_salt_key:g,phonepe_salt_index:b,phonepe_env:S},e[0]=f,e[1]=v,e[2]=g,e[3]=b,e[4]=S,e[5]=m):m=e[5];const{data:n,setData:p,post:P,processing:C,errors:a}=T(m);let _;e[6]!==P?(_=s=>{s.preventDefault(),P("/settings/payment-gateways",{onSuccess:Q,onError:J})},e[6]=P,e[7]=_):_=e[7];const N=_;let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx(A,{title:"Payment Gateways"}),e[8]=x):x=e[8];let u;e[9]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsxs(L,{children:[t.jsx(U,{children:"PhonePe Payment Gateway"}),t.jsx(H,{children:"Configure PhonePe payment integration"})]}),e[9]=u):u=e[9];let y;e[10]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(d,{children:"Enable PhonePe"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow members to purchase plans via PhonePe"})]}),e[10]=y):y=e[10];let l;e[11]!==p?(l=s=>p("phonepe_enabled",s),e[11]=p,e[12]=l):l=e[12];let o;e[13]!==n.phonepe_enabled||e[14]!==l?(o=t.jsxs("div",{className:"flex items-center justify-between",children:[y,t.jsx(M,{checked:n.phonepe_enabled,onCheckedChange:l})]}),e[13]=n.phonepe_enabled,e[14]=l,e[15]=o):o=e[15];let r;e[16]!==n.phonepe_enabled||e[17]!==n.phonepe_env||e[18]!==n.phonepe_merchant_id||e[19]!==n.phonepe_salt_index||e[20]!==n.phonepe_salt_key||e[21]!==a||e[22]!==p?(r=n.phonepe_enabled&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(d,{htmlFor:"phonepe_merchant_id",children:"Merchant ID"}),t.jsx(k,{id:"phonepe_merchant_id",value:n.phonepe_merchant_id,onChange:s=>p("phonepe_merchant_id",s.target.value),placeholder:"Enter PhonePe Merchant ID"}),a.phonepe_merchant_id&&t.jsx("p",{className:"text-sm text-red-600",children:a.phonepe_merchant_id})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(d,{htmlFor:"phonepe_salt_key",children:"Salt Key"}),t.jsx(k,{id:"phonepe_salt_key",type:"password",value:n.phonepe_salt_key,onChange:s=>p("phonepe_salt_key",s.target.value),placeholder:"Enter PhonePe Salt Key"}),a.phonepe_salt_key&&t.jsx("p",{className:"text-sm text-red-600",children:a.phonepe_salt_key})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(d,{htmlFor:"phonepe_salt_index",children:"Salt Index"}),t.jsx(k,{id:"phonepe_salt_index",value:n.phonepe_salt_index,onChange:s=>p("phonepe_salt_index",s.target.value),placeholder:"1"}),a.phonepe_salt_index&&t.jsx("p",{className:"text-sm text-red-600",children:a.phonepe_salt_index})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(d,{htmlFor:"phonepe_env",children:"Environment"}),t.jsxs(O,{value:n.phonepe_env,onValueChange:s=>p("phonepe_env",s),children:[t.jsx(V,{children:t.jsx($,{})}),t.jsxs(q,{children:[t.jsx(w,{value:"UAT",children:"UAT (Testing)"}),t.jsx(w,{value:"PRODUCTION",children:"Production"})]})]}),a.phonepe_env&&t.jsx("p",{className:"text-sm text-red-600",children:a.phonepe_env})]})]}),e[16]=n.phonepe_enabled,e[17]=n.phonepe_env,e[18]=n.phonepe_merchant_id,e[19]=n.phonepe_salt_index,e[20]=n.phonepe_salt_key,e[21]=a,e[22]=p,e[23]=r):r=e[23];let i;e[24]!==o||e[25]!==r?(i=t.jsxs(R,{children:[u,t.jsxs(B,{className:"space-y-4",children:[o,r]})]}),e[24]=o,e[25]=r,e[26]=i):i=e[26];let h;e[27]!==C?(h=t.jsx("div",{className:"flex justify-end",children:t.jsx(K,{type:"submit",disabled:C,children:"Save Settings"})}),e[27]=C,e[28]=h):h=e[28];let j;return e[29]!==N||e[30]!==i||e[31]!==h?(j=t.jsxs(D,{breadcrumbs:z,children:[x,t.jsx(G,{children:t.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i,h]})})]}),e[29]=N,e[30]=i,e[31]=h,e[32]=j):j=e[32],j}function J(){return E.error("Failed to update settings")}function Q(){return E.success("Payment gateway settings updated successfully")}export{_e as default};
