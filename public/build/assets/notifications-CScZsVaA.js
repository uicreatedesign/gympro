import{e as v,c as C,a as E,r as k,b as w,j as t,H as L,t as g}from"./app-cNXeGScd.js";import{A as H}from"./app-layout-BuBPLU6c.js";import{S as T}from"./layout-Y545UrFS.js";import{C as A,a as B,d as M,b as R,c as D}from"./card-Bv1eHmK_.js";import{B as F}from"./app-logo-icon-BVEFLWIi.js";import{S as I}from"./switch-BfztCVWA.js";import{L as P}from"./label-nzuE_3dg.js";/* empty css            */import"./app-sidebar-layout-Bojxd45Y.js";import"./index-DAn-omQv.js";import"./index-Cmw99ND_.js";import"./index-Cx2XN_pX.js";import"./index-CE1SuMX5.js";import"./index-Be5GoQ22.js";const $=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],q=v("Mail",$),z=[{title:"Notification Settings",href:"/settings/notifications"}];function ne(y){const e=C.c(19),{notificationSettings:S}=y,{auth:x}=E().props,[i,N]=k.useState(S);let r;e[0]!==x.permissions?(r=x.permissions.includes("edit_notifications"),e[0]=x.permissions,e[1]=r):r=e[1];const s=r;let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=(a,c)=>{N(j=>j.map(b=>b.event_type===a?{...b,enabled:c}:b))},e[2]=l):l=e[2];const _=l;let m;e[3]!==i?(m=()=>{w.post("/settings/notifications",{settings:i},{onSuccess:J,onError:G})},e[3]=i,e[4]=m):m=e[4];const u=m;let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx(L,{title:"Notification Settings"}),e[5]=d):d=e[5];let f;e[6]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Notification Settings"}),t.jsx("p",{className:"text-muted-foreground mt-2",children:"Enable or disable email notifications for different events. Emails will be sent to admin automatically."})]}),e[6]=f):f=e[6];let p;e[7]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsxs(A,{children:[t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(q,{className:"h-5 w-5"}),"Email Notifications"]}),t.jsx(M,{children:"Toggle notifications on or off for specific events"})]}),e[7]=p):p=e[7];let o;if(e[8]!==s||e[9]!==i){let a;e[11]!==s?(a=c=>t.jsxs("div",{className:"flex items-center justify-between py-3 border-b last:border-0",children:[t.jsxs("div",{children:[t.jsx(P,{className:"text-base font-medium",children:c.label}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Send email notification when this event occurs"})]}),t.jsx(I,{checked:c.enabled,onCheckedChange:j=>_(c.event_type,j),disabled:!s})]},c.event_type),e[11]=s,e[12]=a):a=e[12],o=i.map(a),e[8]=s,e[9]=i,e[10]=o}else o=e[10];let n;e[13]!==s||e[14]!==u?(n=s&&t.jsx("div",{className:"flex justify-end pt-4",children:t.jsx(F,{onClick:u,children:"Save Changes"})}),e[13]=s,e[14]=u,e[15]=n):n=e[15];let h;return e[16]!==o||e[17]!==n?(h=t.jsxs(H,{breadcrumbs:z,children:[d,t.jsx(T,{children:t.jsxs("div",{className:"space-y-6",children:[f,t.jsxs(R,{children:[p,t.jsxs(D,{className:"space-y-4",children:[o,n]})]})]})})]}),e[16]=o,e[17]=n,e[18]=h):h=e[18],h}function G(){return g.error("Failed to save notification settings")}function J(){return g.success("Notification settings saved successfully")}export{ne as default};
