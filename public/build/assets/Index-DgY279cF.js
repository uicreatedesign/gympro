import{c as Te,j as t,r as Fe,u as Oe,t as we,b as Ee,H as qe}from"./app-cNXeGScd.js";import{A as Ge}from"./app-layout-BuBPLU6c.js";import{B as ve}from"./app-logo-icon-BVEFLWIi.js";import{b as Je,c as Ke}from"./card-Bv1eHmK_.js";import{I as ke}from"./input-B6ChAk_-.js";import{c as xe,S as fe,a as je,b as ge,d as j}from"./select-B_vkAFMk.js";import{e as Qe,f as We,P as Ie,c as Xe,a as Ye,b as Ze,d as et}from"./pagination-6GfLuM88.js";import{B as Re}from"./badge-CTypo_Ez.js";import{b as ye,c as tt,T as Ue,a as be,P as st,d as at,e as lt}from"./table-DegWvFIo.js";import{T as it}from"./trash-2-BIELk7Pf.js";import{D as Ve,a as $e,b as Me,c as Be,d as Le,e as He}from"./dialog-CANFBbDG.js";import{L as E}from"./label-nzuE_3dg.js";import{T as ze}from"./textarea-mjba4PeB.js";import{C as nt}from"./checkbox-DirlsJLW.js";import{c as rt}from"./index.module-uVhItq5R.js";/* empty css            */import"./app-sidebar-layout-Bojxd45Y.js";import"./index-DAn-omQv.js";import"./index-Cmw99ND_.js";import"./index-Cx2XN_pX.js";import"./index-Be5GoQ22.js";import"./chevron-down-Bl9OOBa4.js";import"./check-Cxb3bKHS.js";import"./chevron-left-BV5dFIG8.js";function ct(m){const e=Te.c(25),{subscriptions:r,onEdit:i,onDelete:s}=m;let x,_,d,b,g,f,l,a;e[0]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx(ye,{className:"w-16",children:"Sr No"}),_=t.jsx(ye,{children:"Member"}),d=t.jsx(ye,{children:"Plan"}),b=t.jsx(ye,{children:"Start Date"}),g=t.jsx(ye,{children:"End Date"}),f=t.jsx(ye,{children:"Amount"}),l=t.jsx(ye,{children:"Payment"}),a=t.jsx(ye,{children:"Status"}),e[0]=x,e[1]=_,e[2]=d,e[3]=b,e[4]=g,e[5]=f,e[6]=l,e[7]=a):(x=e[0],_=e[1],d=e[2],b=e[3],g=e[4],f=e[5],l=e[6],a=e[7]);let n;e[8]!==s||e[9]!==i?(n=(i||s)&&t.jsx(ye,{className:"text-right",children:"Actions"}),e[8]=s,e[9]=i,e[10]=n):n=e[10];let y;e[11]!==n?(y=t.jsx(tt,{children:t.jsxs(Ue,{children:[x,_,d,b,g,f,l,a,n]})}),e[11]=n,e[12]=y):y=e[12];let h;if(e[13]!==s||e[14]!==i||e[15]!==r){let I;e[17]!==s||e[18]!==i?(I=(u,S)=>t.jsxs(Ue,{className:"hover:bg-gray-50 dark:hover:bg-[oklch(0.269_0_0)]",children:[t.jsx(be,{children:S+1}),t.jsx(be,{className:"font-medium",children:u.member?.user?.name}),t.jsx(be,{children:u.plan?.name}),t.jsx(be,{children:new Date(u.start_date).toLocaleDateString()}),t.jsx(be,{children:new Date(u.end_date).toLocaleDateString()}),t.jsxs(be,{children:["₹",u.total_paid]}),t.jsx(be,{children:t.jsx(Re,{variant:"outline",className:u.payment_status==="paid"?"border-green-200 text-green-700 bg-green-50 dark:border-green-800 dark:text-green-400 dark:bg-green-950":u.payment_status==="pending"?"border-yellow-200 text-yellow-700 bg-yellow-50 dark:border-yellow-800 dark:text-yellow-400 dark:bg-yellow-950":"border-red-200 text-red-700 bg-red-50 dark:border-red-800 dark:text-red-400 dark:bg-red-950",children:u.payment_status})}),t.jsx(be,{children:t.jsx(Re,{variant:"outline",className:u.status==="active"?"border-green-200 text-green-700 bg-green-50 dark:border-green-800 dark:text-green-400 dark:bg-green-950":u.status==="expired"?"border-red-200 text-red-700 bg-red-50 dark:border-red-800 dark:text-red-400 dark:bg-red-950":"border-gray-200 text-gray-700 bg-gray-50 dark:border-gray-800 dark:text-gray-400 dark:bg-gray-950",children:u.status})}),(i||s)&&t.jsx(be,{className:"text-right",children:t.jsxs("div",{className:"flex justify-end gap-2",children:[i&&t.jsx(ve,{variant:"outline",size:"sm",onClick:()=>i(u),children:t.jsx(st,{className:"h-4 w-4"})}),s&&t.jsx(ve,{variant:"outline",size:"sm",onClick:()=>s(u),children:t.jsx(it,{className:"h-4 w-4"})})]})})]},u.id),e[17]=s,e[18]=i,e[19]=I):I=e[19],h=r.map(I),e[13]=s,e[14]=i,e[15]=r,e[16]=h}else h=e[16];let p;e[20]!==h?(p=t.jsx(at,{children:h}),e[20]=h,e[21]=p):p=e[21];let v;return e[22]!==y||e[23]!==p?(v=t.jsxs(lt,{children:[y,p]}),e[22]=y,e[23]=p,e[24]=v):v=e[24],v}function dt(m){const e=Te.c(119),{open:r,onOpenChange:i,members:s,plans:x,trainers:_}=m,[d,b]=Fe.useState(!1);let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=new Date().toISOString().split("T"),e[0]=g):g=e[0];let f;e[1]===Symbol.for("react.memo_cache_sentinel")?(f={member_id:"",plan_id:"",trainer_id:"",start_date:g[0],status:"pending",notes:"",payment_amount:"",payment_method:"cash",payment_type:"plan",payment_date:new Date().toISOString().split("T")[0]},e[1]=f):f=e[1];const{data:l,setData:a,post:n,processing:y,errors:h,reset:p}=Oe(f);let v;e[2]!==i||e[3]!==n||e[4]!==p?(v=o=>{o.preventDefault(),n("/subscriptions",{onSuccess:()=>{p(),b(!1),i(!1),we.success("Subscription created successfully")},onError:ht})},e[2]=i,e[3]=n,e[4]=p,e[5]=v):v=e[5];const I=v;let u;if(e[6]!==l.plan_id||e[7]!==x){let o;e[9]!==l.plan_id?(o=_e=>_e.id===parseInt(l.plan_id),e[9]=l.plan_id,e[10]=o):o=e[10],u=x.find(o),e[6]=l.plan_id,e[7]=x,e[8]=u}else u=e[8];const S=u;let ae;e[11]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsxs(Ve,{children:[t.jsx($e,{children:"Add New Subscription"}),t.jsx(Me,{children:"Assign a plan to a member"})]}),e[11]=ae):ae=e[11];let le;e[12]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(E,{htmlFor:"member_id",children:"Member *"}),e[12]=le):le=e[12];const Ne=l.member_id;let O;e[13]!==a?(O=o=>a("member_id",o),e[13]=a,e[14]=O):O=e[14];let ne;e[15]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(fe,{children:t.jsx(je,{placeholder:"Select member"})}),e[15]=ne):ne=e[15];let V;e[16]!==s?(V=s.map(pt),e[16]=s,e[17]=V):V=e[17];let K;e[18]!==V?(K=t.jsx(ge,{children:V}),e[18]=V,e[19]=K):K=e[19];let $;e[20]!==l.member_id||e[21]!==K||e[22]!==O?($=t.jsxs(xe,{value:Ne,onValueChange:O,children:[ne,K]}),e[20]=l.member_id,e[21]=K,e[22]=O,e[23]=$):$=e[23];let A;e[24]!==h.member_id?(A=h.member_id&&t.jsx("p",{className:"text-sm text-destructive",children:h.member_id}),e[24]=h.member_id,e[25]=A):A=e[25];let M;e[26]!==$||e[27]!==A?(M=t.jsxs("div",{className:"space-y-2",children:[le,$,A]}),e[26]=$,e[27]=A,e[28]=M):M=e[28];let re;e[29]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(E,{htmlFor:"plan_id",children:"Plan *"}),e[29]=re):re=e[29];const Ce=l.plan_id;let Q;e[30]!==x||e[31]!==d||e[32]!==a?(Q=o=>{a("plan_id",o);const _e=x.find(Se=>Se.id===parseInt(o));_e&&d&&a("payment_amount",_e.price.toString())},e[30]=x,e[31]=d,e[32]=a,e[33]=Q):Q=e[33];let ie;e[34]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(fe,{children:t.jsx(je,{placeholder:"Select plan"})}),e[34]=ie):ie=e[34];let B;e[35]!==x?(B=x.map(mt),e[35]=x,e[36]=B):B=e[36];let N;e[37]!==B?(N=t.jsx(ge,{children:B}),e[37]=B,e[38]=N):N=e[38];let C;e[39]!==l.plan_id||e[40]!==Q||e[41]!==N?(C=t.jsxs(xe,{value:Ce,onValueChange:Q,children:[ie,N]}),e[39]=l.plan_id,e[40]=Q,e[41]=N,e[42]=C):C=e[42];let k;e[43]!==h.plan_id?(k=h.plan_id&&t.jsx("p",{className:"text-sm text-destructive",children:h.plan_id}),e[43]=h.plan_id,e[44]=k):k=e[44];let L;e[45]!==C||e[46]!==k?(L=t.jsxs("div",{className:"space-y-2",children:[re,C,k]}),e[45]=C,e[46]=k,e[47]=L):L=e[47];let Y;e[48]!==l.trainer_id||e[49]!==h.trainer_id||e[50]!==S?.personal_training||e[51]!==a||e[52]!==_?(Y=S?.personal_training&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(E,{htmlFor:"trainer_id",children:"Assign Trainer"}),t.jsxs(xe,{value:l.trainer_id,onValueChange:o=>a("trainer_id",o),children:[t.jsx(fe,{children:t.jsx(je,{placeholder:"Select trainer"})}),t.jsx(ge,{children:_.map(ot)})]}),h.trainer_id&&t.jsx("p",{className:"text-sm text-destructive",children:h.trainer_id})]}),e[48]=l.trainer_id,e[49]=h.trainer_id,e[50]=S?.personal_training,e[51]=a,e[52]=_,e[53]=Y):Y=e[53];let H;e[54]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(E,{htmlFor:"start_date",children:"Start Date *"}),e[54]=H):H=e[54];let P;e[55]!==a?(P=o=>a("start_date",o.target.value),e[55]=a,e[56]=P):P=e[56];let D;e[57]!==l.start_date||e[58]!==P?(D=t.jsx(ke,{id:"start_date",type:"date",value:l.start_date,onChange:P}),e[57]=l.start_date,e[58]=P,e[59]=D):D=e[59];let F;e[60]!==h.start_date?(F=h.start_date&&t.jsx("p",{className:"text-sm text-destructive",children:h.start_date}),e[60]=h.start_date,e[61]=F):F=e[61];let ee;e[62]!==D||e[63]!==F?(ee=t.jsxs("div",{className:"space-y-2",children:[H,D,F]}),e[62]=D,e[63]=F,e[64]=ee):ee=e[64];let te;e[65]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(E,{htmlFor:"status",children:"Status *"}),e[65]=te):te=e[65];let w;e[66]!==a?(w=o=>a("status",o),e[66]=a,e[67]=w):w=e[67];let R;e[68]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(fe,{children:t.jsx(je,{})}),e[68]=R):R=e[68];let U;e[69]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsxs(ge,{children:[t.jsx(j,{value:"pending",children:"Pending"}),t.jsx(j,{value:"active",children:"Active"}),t.jsx(j,{value:"expired",children:"Expired"}),t.jsx(j,{value:"cancelled",children:"Cancelled"})]}),e[69]=U):U=e[69];let z;e[70]!==l.status||e[71]!==w?(z=t.jsxs("div",{className:"space-y-2",children:[te,t.jsxs(xe,{value:l.status,onValueChange:w,children:[R,U]})]}),e[70]=l.status,e[71]=w,e[72]=z):z=e[72];let T;e[73]!==S?(T=S&&t.jsx("div",{className:"space-y-2 col-span-2",children:t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Duration: ",S.duration_months," month(s) | Plan Fee: ₹",S.price," | Admission Fee: ₹",S.admission_fee||0]})}),e[73]=S,e[74]=T):T=e[74];let q;e[75]===Symbol.for("react.memo_cache_sentinel")?(q=o=>b(o),e[75]=q):q=e[75];let G;e[76]!==d?(G=t.jsx(nt,{id:"record_payment",checked:d,onCheckedChange:q}),e[76]=d,e[77]=G):G=e[77];let Z;e[78]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(E,{htmlFor:"record_payment",className:"cursor-pointer",children:"Record payment now"}),e[78]=Z):Z=e[78];let c;e[79]!==G?(c=t.jsx("div",{className:"space-y-2 col-span-2",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[G,Z]})}),e[79]=G,e[80]=c):c=e[80];let J;e[81]!==l.payment_amount||e[82]!==l.payment_date||e[83]!==l.payment_method||e[84]!==l.payment_type||e[85]!==d||e[86]!==a?(J=d&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(E,{htmlFor:"payment_amount",children:"Payment Amount *"}),t.jsx(ke,{id:"payment_amount",type:"number",step:"0.01",value:l.payment_amount,onChange:o=>a("payment_amount",o.target.value),placeholder:"0.00"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(E,{htmlFor:"payment_method",children:"Payment Method *"}),t.jsxs(xe,{value:l.payment_method,onValueChange:o=>a("payment_method",o),children:[t.jsx(fe,{children:t.jsx(je,{})}),t.jsxs(ge,{children:[t.jsx(j,{value:"cash",children:"Cash"}),t.jsx(j,{value:"card",children:"Card"}),t.jsx(j,{value:"upi",children:"UPI"}),t.jsx(j,{value:"bank_transfer",children:"Bank Transfer"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(E,{htmlFor:"payment_type",children:"Payment Type *"}),t.jsxs(xe,{value:l.payment_type,onValueChange:o=>a("payment_type",o),children:[t.jsx(fe,{children:t.jsx(je,{})}),t.jsxs(ge,{children:[t.jsx(j,{value:"plan",children:"Plan Fee"}),t.jsx(j,{value:"admission",children:"Admission Fee"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(E,{htmlFor:"payment_date",children:"Payment Date *"}),t.jsx(ke,{id:"payment_date",type:"date",value:l.payment_date,onChange:o=>a("payment_date",o.target.value)})]})]}),e[81]=l.payment_amount,e[82]=l.payment_date,e[83]=l.payment_method,e[84]=l.payment_type,e[85]=d,e[86]=a,e[87]=J):J=e[87];let W;e[88]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(E,{htmlFor:"notes",children:"Notes"}),e[88]=W):W=e[88];let se;e[89]!==a?(se=o=>a("notes",o.target.value),e[89]=a,e[90]=se):se=e[90];let ce;e[91]!==l.notes||e[92]!==se?(ce=t.jsxs("div",{className:"space-y-2 col-span-2",children:[W,t.jsx(ze,{id:"notes",value:l.notes,onChange:se,placeholder:"Optional notes..."})]}),e[91]=l.notes,e[92]=se,e[93]=ce):ce=e[93];let me;e[94]!==M||e[95]!==L||e[96]!==Y||e[97]!==ee||e[98]!==z||e[99]!==T||e[100]!==c||e[101]!==J||e[102]!==ce?(me=t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 py-4",children:[M,L,Y,ee,z,T,c,J,ce]}),e[94]=M,e[95]=L,e[96]=Y,e[97]=ee,e[98]=z,e[99]=T,e[100]=c,e[101]=J,e[102]=ce,e[103]=me):me=e[103];let pe;e[104]!==i?(pe=t.jsx(ve,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e[104]=i,e[105]=pe):pe=e[105];let de;e[106]!==y?(de=t.jsx(ve,{type:"submit",disabled:y,children:"Create Subscription"}),e[106]=y,e[107]=de):de=e[107];let he;e[108]!==pe||e[109]!==de?(he=t.jsxs(Be,{children:[pe,de]}),e[108]=pe,e[109]=de,e[110]=he):he=e[110];let oe;e[111]!==I||e[112]!==me||e[113]!==he?(oe=t.jsxs(Le,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[ae,t.jsxs("form",{onSubmit:I,children:[me,he]})]}),e[111]=I,e[112]=me,e[113]=he,e[114]=oe):oe=e[114];let ue;return e[115]!==i||e[116]!==r||e[117]!==oe?(ue=t.jsx(He,{open:r,onOpenChange:i,children:oe}),e[115]=i,e[116]=r,e[117]=oe,e[118]=ue):ue=e[118],ue}function ot(m){return t.jsx(j,{value:m.id.toString(),children:m.user?.name},m.id)}function mt(m){return t.jsxs(j,{value:m.id.toString(),children:[m.name," - ₹",m.price]},m.id)}function pt(m){return t.jsx(j,{value:m.id.toString(),children:m.user?.name||"Unknown"},m.id)}function ht(){we.error("Failed to create subscription")}function ut(m){const e=Te.c(140),{open:r,onOpenChange:i,subscription:s,members:x,plans:_}=m;let d;e[0]!==s.member_id?(d=s.member_id.toString(),e[0]=s.member_id,e[1]=d):d=e[1];let b;e[2]!==s.plan_id?(b=s.plan_id.toString(),e[2]=s.plan_id,e[3]=b):b=e[3];let g;e[4]!==s.start_date?(g=s.start_date.split("T"),e[4]=s.start_date,e[5]=g):g=e[5];const f=s.notes||"";let l;e[6]!==s.admission_fee_paid||e[7]!==s.amount_paid||e[8]!==s.payment_status||e[9]!==s.status||e[10]!==d||e[11]!==b||e[12]!==g[0]||e[13]!==f?(l={member_id:d,plan_id:b,start_date:g[0],amount_paid:s.amount_paid,admission_fee_paid:s.admission_fee_paid,payment_status:s.payment_status,status:s.status,notes:f},e[6]=s.admission_fee_paid,e[7]=s.amount_paid,e[8]=s.payment_status,e[9]=s.status,e[10]=d,e[11]=b,e[12]=g[0],e[13]=f,e[14]=l):l=e[14];const{data:a,setData:n,put:y,processing:h,errors:p}=Oe(l);let v;e[15]!==n||e[16]!==s.admission_fee_paid||e[17]!==s.amount_paid||e[18]!==s.member_id||e[19]!==s.notes||e[20]!==s.payment_status||e[21]!==s.plan_id||e[22]!==s.start_date||e[23]!==s.status?(v=()=>{n({member_id:s.member_id.toString(),plan_id:s.plan_id.toString(),start_date:s.start_date.split("T")[0],amount_paid:s.amount_paid,admission_fee_paid:s.admission_fee_paid,payment_status:s.payment_status,status:s.status,notes:s.notes||""})},e[15]=n,e[16]=s.admission_fee_paid,e[17]=s.amount_paid,e[18]=s.member_id,e[19]=s.notes,e[20]=s.payment_status,e[21]=s.plan_id,e[22]=s.start_date,e[23]=s.status,e[24]=v):v=e[24];let I;e[25]!==s?(I=[s],e[25]=s,e[26]=I):I=e[26],Fe.useEffect(v,I);let u;e[27]!==i||e[28]!==y||e[29]!==s.id?(u=X=>{X.preventDefault(),y(`/subscriptions/${s.id}`,{onSuccess:()=>{i(!1),we.success("Subscription updated successfully")},onError:ft})},e[27]=i,e[28]=y,e[29]=s.id,e[30]=u):u=e[30];const S=u;let ae;e[31]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsxs(Ve,{children:[t.jsx($e,{children:"Edit Subscription"}),t.jsx(Me,{children:"Update subscription details"})]}),e[31]=ae):ae=e[31];let le;e[32]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(E,{htmlFor:"member_id",children:"Member *"}),e[32]=le):le=e[32];const Ne=a.member_id;let O;e[33]!==n?(O=X=>n("member_id",X),e[33]=n,e[34]=O):O=e[34];let ne;e[35]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(fe,{children:t.jsx(je,{})}),e[35]=ne):ne=e[35];let V;e[36]!==x?(V=x.map(xt),e[36]=x,e[37]=V):V=e[37];let K;e[38]!==V?(K=t.jsx(ge,{children:V}),e[38]=V,e[39]=K):K=e[39];let $;e[40]!==a.member_id||e[41]!==O||e[42]!==K?($=t.jsxs(xe,{value:Ne,onValueChange:O,children:[ne,K]}),e[40]=a.member_id,e[41]=O,e[42]=K,e[43]=$):$=e[43];let A;e[44]!==p.member_id?(A=p.member_id&&t.jsx("p",{className:"text-sm text-destructive",children:p.member_id}),e[44]=p.member_id,e[45]=A):A=e[45];let M;e[46]!==$||e[47]!==A?(M=t.jsxs("div",{className:"space-y-2",children:[le,$,A]}),e[46]=$,e[47]=A,e[48]=M):M=e[48];let re;e[49]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(E,{htmlFor:"plan_id",children:"Plan *"}),e[49]=re):re=e[49];const Ce=a.plan_id;let Q;e[50]!==n?(Q=X=>n("plan_id",X),e[50]=n,e[51]=Q):Q=e[51];let ie;e[52]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(fe,{children:t.jsx(je,{})}),e[52]=ie):ie=e[52];let B;e[53]!==_?(B=_.map(_t),e[53]=_,e[54]=B):B=e[54];let N;e[55]!==B?(N=t.jsx(ge,{children:B}),e[55]=B,e[56]=N):N=e[56];let C;e[57]!==a.plan_id||e[58]!==Q||e[59]!==N?(C=t.jsxs(xe,{value:Ce,onValueChange:Q,children:[ie,N]}),e[57]=a.plan_id,e[58]=Q,e[59]=N,e[60]=C):C=e[60];let k;e[61]!==p.plan_id?(k=p.plan_id&&t.jsx("p",{className:"text-sm text-destructive",children:p.plan_id}),e[61]=p.plan_id,e[62]=k):k=e[62];let L;e[63]!==C||e[64]!==k?(L=t.jsxs("div",{className:"space-y-2",children:[re,C,k]}),e[63]=C,e[64]=k,e[65]=L):L=e[65];let Y;e[66]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(E,{htmlFor:"start_date",children:"Start Date *"}),e[66]=Y):Y=e[66];let H;e[67]!==n?(H=X=>n("start_date",X.target.value),e[67]=n,e[68]=H):H=e[68];let P;e[69]!==a.start_date||e[70]!==H?(P=t.jsx(ke,{id:"start_date",type:"date",value:a.start_date,onChange:H}),e[69]=a.start_date,e[70]=H,e[71]=P):P=e[71];let D;e[72]!==p.start_date?(D=p.start_date&&t.jsx("p",{className:"text-sm text-destructive",children:p.start_date}),e[72]=p.start_date,e[73]=D):D=e[73];let F;e[74]!==P||e[75]!==D?(F=t.jsxs("div",{className:"space-y-2",children:[Y,P,D]}),e[74]=P,e[75]=D,e[76]=F):F=e[76];let ee;e[77]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(E,{htmlFor:"amount_paid",children:"Amount Paid *"}),e[77]=ee):ee=e[77];let te;e[78]!==n?(te=X=>n("amount_paid",X.target.value),e[78]=n,e[79]=te):te=e[79];let w;e[80]!==a.amount_paid||e[81]!==te?(w=t.jsx(ke,{id:"amount_paid",type:"number",step:"0.01",value:a.amount_paid,onChange:te}),e[80]=a.amount_paid,e[81]=te,e[82]=w):w=e[82];let R;e[83]!==p.amount_paid?(R=p.amount_paid&&t.jsx("p",{className:"text-sm text-destructive",children:p.amount_paid}),e[83]=p.amount_paid,e[84]=R):R=e[84];let U;e[85]!==w||e[86]!==R?(U=t.jsxs("div",{className:"space-y-2",children:[ee,w,R]}),e[85]=w,e[86]=R,e[87]=U):U=e[87];let z;e[88]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(E,{htmlFor:"admission_fee_paid",children:"Admission Fee"}),e[88]=z):z=e[88];let T;e[89]!==n?(T=X=>n("admission_fee_paid",X.target.value),e[89]=n,e[90]=T):T=e[90];let q;e[91]!==a.admission_fee_paid||e[92]!==T?(q=t.jsxs("div",{className:"space-y-2",children:[z,t.jsx(ke,{id:"admission_fee_paid",type:"number",step:"0.01",value:a.admission_fee_paid,onChange:T})]}),e[91]=a.admission_fee_paid,e[92]=T,e[93]=q):q=e[93];let G;e[94]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(E,{htmlFor:"payment_status",children:"Payment Status *"}),e[94]=G):G=e[94];let Z;e[95]!==n?(Z=X=>n("payment_status",X),e[95]=n,e[96]=Z):Z=e[96];let c;e[97]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx(fe,{children:t.jsx(je,{})}),e[97]=c):c=e[97];let J;e[98]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsxs(ge,{children:[t.jsx(j,{value:"pending",children:"Pending"}),t.jsx(j,{value:"paid",children:"Paid"}),t.jsx(j,{value:"overdue",children:"Overdue"})]}),e[98]=J):J=e[98];let W;e[99]!==a.payment_status||e[100]!==Z?(W=t.jsxs("div",{className:"space-y-2",children:[G,t.jsxs(xe,{value:a.payment_status,onValueChange:Z,children:[c,J]})]}),e[99]=a.payment_status,e[100]=Z,e[101]=W):W=e[101];let se;e[102]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(E,{htmlFor:"status",children:"Status *"}),e[102]=se):se=e[102];let ce;e[103]!==n?(ce=X=>n("status",X),e[103]=n,e[104]=ce):ce=e[104];let me;e[105]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(fe,{children:t.jsx(je,{})}),e[105]=me):me=e[105];let pe;e[106]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsxs(ge,{children:[t.jsx(j,{value:"active",children:"Active"}),t.jsx(j,{value:"expired",children:"Expired"}),t.jsx(j,{value:"cancelled",children:"Cancelled"})]}),e[106]=pe):pe=e[106];let de;e[107]!==a.status||e[108]!==ce?(de=t.jsxs("div",{className:"space-y-2",children:[se,t.jsxs(xe,{value:a.status,onValueChange:ce,children:[me,pe]})]}),e[107]=a.status,e[108]=ce,e[109]=de):de=e[109];let he;e[110]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(E,{htmlFor:"notes",children:"Notes"}),e[110]=he):he=e[110];let oe;e[111]!==n?(oe=X=>n("notes",X.target.value),e[111]=n,e[112]=oe):oe=e[112];let ue;e[113]!==a.notes||e[114]!==oe?(ue=t.jsxs("div",{className:"space-y-2 col-span-2",children:[he,t.jsx(ze,{id:"notes",value:a.notes,onChange:oe})]}),e[113]=a.notes,e[114]=oe,e[115]=ue):ue=e[115];let o;e[116]!==M||e[117]!==L||e[118]!==F||e[119]!==U||e[120]!==q||e[121]!==W||e[122]!==de||e[123]!==ue?(o=t.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[M,L,F,U,q,W,de,ue]}),e[116]=M,e[117]=L,e[118]=F,e[119]=U,e[120]=q,e[121]=W,e[122]=de,e[123]=ue,e[124]=o):o=e[124];let _e;e[125]!==i?(_e=t.jsx(ve,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e[125]=i,e[126]=_e):_e=e[126];let Se;e[127]!==h?(Se=t.jsx(ve,{type:"submit",disabled:h,children:"Update"}),e[127]=h,e[128]=Se):Se=e[128];let Pe;e[129]!==_e||e[130]!==Se?(Pe=t.jsxs(Be,{children:[_e,Se]}),e[129]=_e,e[130]=Se,e[131]=Pe):Pe=e[131];let De;e[132]!==S||e[133]!==o||e[134]!==Pe?(De=t.jsxs(Le,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[ae,t.jsxs("form",{onSubmit:S,children:[o,Pe]})]}),e[132]=S,e[133]=o,e[134]=Pe,e[135]=De):De=e[135];let Ae;return e[136]!==i||e[137]!==r||e[138]!==De?(Ae=t.jsx(He,{open:r,onOpenChange:i,children:De}),e[136]=i,e[137]=r,e[138]=De,e[139]=Ae):Ae=e[139],Ae}function _t(m){return t.jsxs(j,{value:m.id.toString(),children:[m.name," - ₹",m.price]},m.id)}function xt(m){return t.jsx(j,{value:m.id.toString(),children:m.user?.name||"Unknown"},m.id)}function ft(){we.error("Failed to update subscription")}function jt(m){const e=Te.c(17),{open:r,onOpenChange:i,subscription:s}=m,{delete:x,processing:_}=Oe();let d;e[0]!==x||e[1]!==i||e[2]!==s.id?(d=()=>{x(`/subscriptions/${s.id}`,{onSuccess:()=>{i(!1),we.success("Subscription deleted successfully")},onError:gt})},e[0]=x,e[1]=i,e[2]=s.id,e[3]=d):d=e[3];const b=d;let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsxs(Ve,{children:[t.jsx($e,{children:"Delete Subscription"}),t.jsx(Me,{children:"Are you sure you want to delete this subscription? This action cannot be undone."})]}),e[4]=g):g=e[4];let f;e[5]!==i?(f=t.jsx(ve,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e[5]=i,e[6]=f):f=e[6];let l;e[7]!==b||e[8]!==_?(l=t.jsx(ve,{variant:"destructive",onClick:b,disabled:_,children:"Delete"}),e[7]=b,e[8]=_,e[9]=l):l=e[9];let a;e[10]!==f||e[11]!==l?(a=t.jsxs(Le,{children:[g,t.jsxs(Be,{children:[f,l]})]}),e[10]=f,e[11]=l,e[12]=a):a=e[12];let n;return e[13]!==i||e[14]!==r||e[15]!==a?(n=t.jsx(He,{open:r,onOpenChange:i,children:a}),e[13]=i,e[14]=r,e[15]=a,e[16]=n):n=e[16],n}function gt(){we.error("Failed to delete subscription")}function qt(m){const e=Te.c(76),{subscriptions:r,members:i,plans:s,trainers:x,filters:_,auth:d}=m,[b,g]=Fe.useState(!1),[f,l]=Fe.useState(null),[a,n]=Fe.useState(null),[y,h]=Fe.useState(_.search||"");let p;e[0]!==d.permissions?(p=d.permissions.includes("create_subscriptions"),e[0]=d.permissions,e[1]=p):p=e[1];const v=p;let I;e[2]!==d.permissions?(I=d.permissions.includes("edit_subscriptions"),e[2]=d.permissions,e[3]=I):I=e[3];const u=I;let S;e[4]!==d.permissions?(S=d.permissions.includes("delete_subscriptions"),e[4]=d.permissions,e[5]=S):S=e[5];const ae=S;let le;e[6]!==_.per_page?(le=c=>{Ee.get("/subscriptions",{search:c,per_page:_.per_page},{preserveState:!0})},e[6]=_.per_page,e[7]=le):le=e[7];const Ne=rt(le,300);let O;e[8]!==Ne?(O=c=>{h(c),Ne(c)},e[8]=Ne,e[9]=O):O=e[9];const ne=O;let V;e[10]!==y?(V=c=>{Ee.get("/subscriptions",{search:y,per_page:c},{preserveState:!0})},e[10]=y,e[11]=V):V=e[11];const K=V;let $;e[12]!==_.per_page||e[13]!==y?($=c=>{Ee.get("/subscriptions",{search:y,per_page:_.per_page,page:c},{preserveState:!0})},e[12]=_.per_page,e[13]=y,e[14]=$):$=e[14];const A=$;let M;e[15]!==r?(M=()=>{const c=[],{current_page:J,last_page:W}=r;if(W<=7)return Array.from({length:W},yt);c.push(1),J>3&&c.push("...");for(let se=Math.max(2,J-1);se<=Math.min(W-1,J+1);se++)c.push(se);return J<W-2&&c.push("..."),c.push(W),c},e[15]=r,e[16]=M):M=e[16];const re=M,Ce=(r.current_page-1)*r.per_page+1,Q=Math.min(r.current_page*r.per_page,r.total);let ie;e[17]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(qe,{title:"Subscriptions"}),e[17]=ie):ie=e[17];let B;e[18]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Subscriptions"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage member subscriptions"})]}),e[18]=B):B=e[18];let N;e[19]!==v?(N=v&&t.jsx(ve,{onClick:()=>g(!0),children:"Add Subscription"}),e[19]=v,e[20]=N):N=e[20];let C;e[21]!==N?(C=t.jsxs("div",{className:"flex items-center justify-between",children:[B,N]}),e[21]=N,e[22]=C):C=e[22];let k;e[23]!==_.per_page?(k=_.per_page.toString(),e[23]=_.per_page,e[24]=k):k=e[24];let L;e[25]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx(fe,{className:"w-32",children:t.jsx(je,{})}),e[25]=L):L=e[25];let Y;e[26]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsxs(ge,{children:[t.jsx(j,{value:"10",children:"10"}),t.jsx(j,{value:"25",children:"25"}),t.jsx(j,{value:"50",children:"50"}),t.jsx(j,{value:"100",children:"100"})]}),e[26]=Y):Y=e[26];let H;e[27]!==K||e[28]!==k?(H=t.jsxs(xe,{value:k,onValueChange:K,children:[L,Y]}),e[27]=K,e[28]=k,e[29]=H):H=e[29];let P;e[30]!==ne?(P=c=>ne(c.target.value),e[30]=ne,e[31]=P):P=e[31];let D;e[32]!==y||e[33]!==P?(D=t.jsx(ke,{placeholder:"Search by member or plan...",value:y,onChange:P,className:"max-w-sm"}),e[32]=y,e[33]=P,e[34]=D):D=e[34];let F;e[35]!==H||e[36]!==D?(F=t.jsxs("div",{className:"flex justify-between gap-4",children:[H,D]}),e[35]=H,e[36]=D,e[37]=F):F=e[37];const ee=u?l:void 0,te=ae?n:void 0;let w;e[38]!==r.data||e[39]!==ee||e[40]!==te?(w=t.jsx(ct,{subscriptions:r.data,onEdit:ee,onDelete:te}),e[38]=r.data,e[39]=ee,e[40]=te,e[41]=w):w=e[41];let R;e[42]!==Q||e[43]!==re||e[44]!==A||e[45]!==Ce||e[46]!==r.current_page||e[47]!==r.last_page||e[48]!==r.total?(R=r.last_page>1&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",Ce,"-",Q," of ",r.total," results"]}),t.jsx(Qe,{children:t.jsxs(We,{children:[t.jsx(Ie,{children:t.jsx(Xe,{onClick:()=>A(r.current_page-1),className:r.current_page===1?"pointer-events-none opacity-50":"cursor-pointer"})}),re().map((c,J)=>t.jsx(Ie,{children:c==="..."?t.jsx(Ye,{}):t.jsx(Ze,{onClick:()=>A(c),isActive:c===r.current_page,className:"cursor-pointer",children:c})},J)),t.jsx(Ie,{children:t.jsx(et,{onClick:()=>A(r.current_page+1),className:r.current_page===r.last_page?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]}),e[42]=Q,e[43]=re,e[44]=A,e[45]=Ce,e[46]=r.current_page,e[47]=r.last_page,e[48]=r.total,e[49]=R):R=e[49];let U;e[50]!==F||e[51]!==w||e[52]!==R?(U=t.jsx(Je,{children:t.jsxs(Ke,{className:"p-6 space-y-4",children:[F,w,R]})}),e[50]=F,e[51]=w,e[52]=R,e[53]=U):U=e[53];let z;e[54]!==C||e[55]!==U?(z=t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[C,U]}),e[54]=C,e[55]=U,e[56]=z):z=e[56];let T;e[57]!==v||e[58]!==b||e[59]!==i||e[60]!==s||e[61]!==x?(T=v&&t.jsx(dt,{open:b,onOpenChange:g,members:i,plans:s,trainers:x}),e[57]=v,e[58]=b,e[59]=i,e[60]=s,e[61]=x,e[62]=T):T=e[62];let q;e[63]!==u||e[64]!==f||e[65]!==i||e[66]!==s?(q=u&&f&&t.jsx(ut,{open:!!f,onOpenChange:c=>!c&&l(null),subscription:f,members:i,plans:s}),e[63]=u,e[64]=f,e[65]=i,e[66]=s,e[67]=q):q=e[67];let G;e[68]!==ae||e[69]!==a?(G=ae&&a&&t.jsx(jt,{open:!!a,onOpenChange:c=>!c&&n(null),subscription:a}),e[68]=ae,e[69]=a,e[70]=G):G=e[70];let Z;return e[71]!==z||e[72]!==T||e[73]!==q||e[74]!==G?(Z=t.jsxs(Ge,{children:[ie,z,T,q,G]}),e[71]=z,e[72]=T,e[73]=q,e[74]=G,e[75]=Z):Z=e[75],Z}function yt(m,e){return e+1}export{qt as default};
