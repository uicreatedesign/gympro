import{c as me,j as t,u as Fe,t as oe,r as re,a as at,b as Ve,H as rt}from"./app-CQMROZin.js";import{A as ot}from"./app-layout-Dt9qo_ia.js";import{B as X}from"./app-logo-icon-9U0fWc1D.js";import{C as Pe,a as Ge,b as qe,c as Je,d as mt}from"./card-Dzw48jq2.js";import{T as dt,a as Ke,b as Qe,c as ht}from"./tabs-hhryEOkG.js";import{I as ae}from"./input-CpTk1gpo.js";import{L as K}from"./label-DB5tnmm5.js";import{B as We}from"./badge-CUyMWOHZ.js";import{T as Se,a as ne,P as ft,b as ie,c as Ze,d as et,e as tt}from"./table-Baf5AyNW.js";import{L as xt,A as ut,a as _t,b as jt,U as Ne,c as pt}from"./app-sidebar-layout-Bod0TseD.js";import{T as bt}from"./trash-2-DI9HBfS8.js";import{D as Me,a as $e,b as Ee,c as Ue,d as He,e as Le}from"./dialog-DuH-RzjZ.js";import{S as st,a as lt,b as ct,c as nt,d as it}from"./select-DupjJqz2.js";import{T as Xe}from"./textarea-3KfxB1FU.js";/* empty css            */import"./index-CKM3Bggy.js";import"./index-Bdj3ZHBY.js";import"./index-Cx2XN_pX.js";import"./index-CQzewt-D.js";import"./chevron-down-DuVOmjjI.js";import"./check-BQTqKde8.js";function Ye(j){const e=me.c(21),{attendances:d,onCheckOut:l,onEdit:s,onDelete:h}=j;let f,i,r,a,x;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsx(ie,{className:"w-16",children:"Sr No"}),i=t.jsx(ie,{children:"Member"}),r=t.jsx(ie,{children:"Check-in Time"}),a=t.jsx(ie,{children:"Check-out Time"}),x=t.jsx(ie,{children:"Status"}),e[0]=f,e[1]=i,e[2]=r,e[3]=a,e[4]=x):(f=e[0],i=e[1],r=e[2],a=e[3],x=e[4]);let o;e[5]!==l||e[6]!==h||e[7]!==s?(o=(l||s||h)&&t.jsx(ie,{className:"text-right",children:"Actions"}),e[5]=l,e[6]=h,e[7]=s,e[8]=o):o=e[8];let m;e[9]!==o?(m=t.jsx(Ze,{children:t.jsxs(Se,{children:[f,i,r,a,x,o]})}),e[9]=o,e[10]=m):m=e[10];let c;e[11]!==d||e[12]!==l||e[13]!==h||e[14]!==s?(c=d.length===0?t.jsx(Se,{children:t.jsx(ne,{colSpan:l||s||h?6:5,className:"text-center text-muted-foreground",children:"No attendance records for today"})}):d.map((u,b)=>t.jsxs(Se,{className:"hover:bg-gray-50 dark:hover:bg-[oklch(0.269_0_0)]",children:[t.jsx(ne,{children:b+1}),t.jsx(ne,{className:"font-medium",children:u.member?.user?.name||"Unknown"}),t.jsx(ne,{children:u.check_in_time}),t.jsx(ne,{children:u.check_out_time||"-"}),t.jsx(ne,{children:t.jsx(We,{variant:"outline",className:u.check_out_time?"border-gray-200 text-gray-700 bg-gray-50 dark:border-gray-800 dark:text-gray-400 dark:bg-gray-950":"border-green-200 text-green-700 bg-green-50 dark:border-green-800 dark:text-green-400 dark:bg-green-950",children:u.check_out_time?"Checked Out":"In Gym"})}),(l||s||h)&&t.jsx(ne,{className:"text-right",children:t.jsxs("div",{className:"flex justify-end gap-2",children:[l&&!u.check_out_time&&t.jsx(X,{variant:"outline",size:"sm",onClick:()=>l(u),children:t.jsx(xt,{className:"h-4 w-4"})}),s&&t.jsx(X,{variant:"outline",size:"sm",onClick:()=>s(u),children:t.jsx(ft,{className:"h-4 w-4"})}),h&&t.jsx(X,{variant:"outline",size:"sm",onClick:()=>h(u),children:t.jsx(bt,{className:"h-4 w-4"})})]})})]},u.id)),e[11]=d,e[12]=l,e[13]=h,e[14]=s,e[15]=c):c=e[15];let n;e[16]!==c?(n=t.jsx(et,{children:c}),e[16]=c,e[17]=n):n=e[17];let p;return e[18]!==m||e[19]!==n?(p=t.jsxs(tt,{children:[m,n]}),e[18]=m,e[19]=n,e[20]=p):p=e[20],p}function gt(j){const e=me.c(16),{data:d,daysInMonth:l}=j,s=Nt;let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx(ie,{className:"sticky left-0 bg-background z-10 min-w-[200px]",children:"Member"}),e[0]=h):h=e[0];let f;e[1]!==l?(f=Array.from({length:l},vt).map(yt),e[1]=l,e[2]=f):f=e[2];let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(ie,{className:"text-center",children:"Total"}),e[3]=i):i=e[3];let r;e[4]!==f?(r=t.jsx(Ze,{children:t.jsxs(Se,{children:[h,f,i]})}),e[4]=f,e[5]=r):r=e[5];let a;if(e[6]!==d||e[7]!==l){let m;e[9]!==l?(m=c=>t.jsxs(Se,{children:[t.jsx(ne,{className:"sticky left-0 bg-background z-10",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(ut,{className:"h-8 w-8",children:[t.jsx(_t,{src:c.member.user?.profile_image?`/storage/${c.member.user.profile_image}`:void 0,alt:c.member.user?.name}),t.jsx(jt,{className:"text-xs",children:s(c.member.user?.name||"")})]}),t.jsx("span",{className:"font-medium",children:c.member.user?.name})]})}),Array.from({length:l},kt).map(n=>t.jsx(ne,{className:"text-center p-1",children:c.dates[n]==="present"?t.jsx(We,{variant:"outline",className:"border-green-200 text-green-700 bg-green-50 dark:border-green-800 dark:text-green-400 dark:bg-green-950 w-6 h-6 p-0 flex items-center justify-center",children:"P"}):t.jsx(We,{variant:"outline",className:"border-red-200 text-red-700 bg-red-50 dark:border-red-800 dark:text-red-400 dark:bg-red-950 w-6 h-6 p-0 flex items-center justify-center",children:"A"})},n)),t.jsx(ne,{className:"text-center font-semibold",children:c.total_present})]},c.member.id),e[9]=l,e[10]=m):m=e[10],a=d.map(m),e[6]=d,e[7]=l,e[8]=a}else a=e[8];let x;e[11]!==a?(x=t.jsx(et,{children:a}),e[11]=a,e[12]=x):x=e[12];let o;return e[13]!==r||e[14]!==x?(o=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(tt,{children:[r,x]})}),e[13]=r,e[14]=x,e[15]=o):o=e[15],o}function kt(j,e){return e+1}function yt(j){return t.jsx(ie,{className:"text-center w-10",children:j},j)}function vt(j,e){return e+1}function Nt(j){return j.split(" ").map(St).join("").toUpperCase().slice(0,2)}function St(j){return j[0]}function Ct(j){const e=me.c(72),{open:d,onOpenChange:l,members:s}=j;let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=new Date().toISOString().split("T"),e[0]=h):h=e[0];let f;e[1]===Symbol.for("react.memo_cache_sentinel")?(f={member_id:"",date:h[0],check_in_time:new Date().toTimeString().slice(0,5),notes:""},e[1]=f):f=e[1];const{data:i,setData:r,post:a,processing:x,errors:o,reset:m}=Fe(f);let c;e[2]!==l||e[3]!==a||e[4]!==m?(c=I=>{I.preventDefault(),a("/attendances",{onSuccess:()=>{m(),l(!1),oe.success("Member checked in successfully")},onError:Dt})},e[2]=l,e[3]=a,e[4]=m,e[5]=c):c=e[5];const n=c;let p;e[6]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsxs(Me,{children:[t.jsx($e,{children:"Check In Member"}),t.jsx(Ee,{children:"Record member check-in"})]}),e[6]=p):p=e[6];let u;e[7]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx(K,{htmlFor:"member_id",children:"Member *"}),e[7]=u):u=e[7];const b=i.member_id;let O;e[8]!==r?(O=I=>r("member_id",I),e[8]=r,e[9]=O):O=e[9];let F;e[10]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(st,{children:t.jsx(lt,{placeholder:"Select member"})}),e[10]=F):F=e[10];let L;e[11]!==s?(L=s.map(Tt),e[11]=s,e[12]=L):L=e[12];let T;e[13]!==L?(T=t.jsx(ct,{children:L}),e[13]=L,e[14]=T):T=e[14];let D;e[15]!==i.member_id||e[16]!==T||e[17]!==O?(D=t.jsxs(nt,{value:b,onValueChange:O,children:[F,T]}),e[15]=i.member_id,e[16]=T,e[17]=O,e[18]=D):D=e[18];let M;e[19]!==o.member_id?(M=o.member_id&&t.jsx("p",{className:"text-sm text-destructive",children:o.member_id}),e[19]=o.member_id,e[20]=M):M=e[20];let H;e[21]!==D||e[22]!==M?(H=t.jsxs("div",{className:"space-y-2",children:[u,D,M]}),e[21]=D,e[22]=M,e[23]=H):H=e[23];let z;e[24]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(K,{htmlFor:"date",children:"Date *"}),e[24]=z):z=e[24];let v;e[25]!==r?(v=I=>r("date",I.target.value),e[25]=r,e[26]=v):v=e[26];let g;e[27]!==i.date||e[28]!==v?(g=t.jsx(ae,{id:"date",type:"date",value:i.date,onChange:v}),e[27]=i.date,e[28]=v,e[29]=g):g=e[29];let y;e[30]!==o.date?(y=o.date&&t.jsx("p",{className:"text-sm text-destructive",children:o.date}),e[30]=o.date,e[31]=y):y=e[31];let _;e[32]!==g||e[33]!==y?(_=t.jsxs("div",{className:"space-y-2",children:[z,g,y]}),e[32]=g,e[33]=y,e[34]=_):_=e[34];let N;e[35]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx(K,{htmlFor:"check_in_time",children:"Check-in Time *"}),e[35]=N):N=e[35];let k;e[36]!==r?(k=I=>r("check_in_time",I.target.value),e[36]=r,e[37]=k):k=e[37];let S;e[38]!==i.check_in_time||e[39]!==k?(S=t.jsx(ae,{id:"check_in_time",type:"time",value:i.check_in_time,onChange:k}),e[38]=i.check_in_time,e[39]=k,e[40]=S):S=e[40];let w;e[41]!==o.check_in_time?(w=o.check_in_time&&t.jsx("p",{className:"text-sm text-destructive",children:o.check_in_time}),e[41]=o.check_in_time,e[42]=w):w=e[42];let C;e[43]!==S||e[44]!==w?(C=t.jsxs("div",{className:"space-y-2",children:[N,S,w]}),e[43]=S,e[44]=w,e[45]=C):C=e[45];let A;e[46]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(K,{htmlFor:"notes",children:"Notes"}),e[46]=A):A=e[46];let $;e[47]!==r?($=I=>r("notes",I.target.value),e[47]=r,e[48]=$):$=e[48];let B;e[49]!==i.notes||e[50]!==$?(B=t.jsxs("div",{className:"space-y-2",children:[A,t.jsx(Xe,{id:"notes",value:i.notes,onChange:$,placeholder:"Optional notes"})]}),e[49]=i.notes,e[50]=$,e[51]=B):B=e[51];let R;e[52]!==H||e[53]!==_||e[54]!==C||e[55]!==B?(R=t.jsxs("div",{className:"space-y-4 py-4",children:[H,_,C,B]}),e[52]=H,e[53]=_,e[54]=C,e[55]=B,e[56]=R):R=e[56];let E;e[57]!==l?(E=t.jsx(X,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e[57]=l,e[58]=E):E=e[58];let V;e[59]!==x?(V=t.jsx(X,{type:"submit",disabled:x,children:"Check In"}),e[59]=x,e[60]=V):V=e[60];let U;e[61]!==E||e[62]!==V?(U=t.jsxs(Ue,{children:[E,V]}),e[61]=E,e[62]=V,e[63]=U):U=e[63];let q;e[64]!==n||e[65]!==R||e[66]!==U?(q=t.jsxs(He,{className:"max-w-md",children:[p,t.jsxs("form",{onSubmit:n,children:[R,U]})]}),e[64]=n,e[65]=R,e[66]=U,e[67]=q):q=e[67];let P;return e[68]!==l||e[69]!==d||e[70]!==q?(P=t.jsx(Le,{open:d,onOpenChange:l,children:q}),e[68]=l,e[69]=d,e[70]=q,e[71]=P):P=e[71],P}function Tt(j){return t.jsx(it,{value:j.id.toString(),children:j.user?.name||"Unknown"},j.id)}function Dt(){oe.error("Failed to check in member")}function wt(j){const e=me.c(52),{open:d,onOpenChange:l,attendance:s}=j;let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=new Date().toTimeString().slice(0,5),e[0]=h):h=e[0];const f=s.notes||"";let i;e[1]!==f?(i={check_out_time:h,notes:f},e[1]=f,e[2]=i):i=e[2];const{data:r,setData:a,put:x,processing:o,errors:m}=Fe(i);let c;e[3]!==s.id||e[4]!==l||e[5]!==x?(c=A=>{A.preventDefault(),x(`/attendances/${s.id}`,{onSuccess:()=>{l(!1),oe.success("Member checked out successfully")},onError:At})},e[3]=s.id,e[4]=l,e[5]=x,e[6]=c):c=e[6];const n=c;let p;e[7]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx($e,{children:"Check Out Member"}),e[7]=p):p=e[7];const u=s.member?.name;let b;e[8]!==u?(b=t.jsxs(Me,{children:[p,t.jsxs(Ee,{children:["Check out ",u]})]}),e[8]=u,e[9]=b):b=e[9];let O;e[10]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(K,{children:"Check-in Time"}),e[10]=O):O=e[10];let F;e[11]!==s.check_in_time?(F=t.jsxs("div",{className:"space-y-2",children:[O,t.jsx(ae,{value:s.check_in_time,disabled:!0})]}),e[11]=s.check_in_time,e[12]=F):F=e[12];let L;e[13]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx(K,{htmlFor:"check_out_time",children:"Check-out Time *"}),e[13]=L):L=e[13];let T;e[14]!==a?(T=A=>a("check_out_time",A.target.value),e[14]=a,e[15]=T):T=e[15];let D;e[16]!==r.check_out_time||e[17]!==T?(D=t.jsx(ae,{id:"check_out_time",type:"time",value:r.check_out_time,onChange:T}),e[16]=r.check_out_time,e[17]=T,e[18]=D):D=e[18];let M;e[19]!==m.check_out_time?(M=m.check_out_time&&t.jsx("p",{className:"text-sm text-destructive",children:m.check_out_time}),e[19]=m.check_out_time,e[20]=M):M=e[20];let H;e[21]!==D||e[22]!==M?(H=t.jsxs("div",{className:"space-y-2",children:[L,D,M]}),e[21]=D,e[22]=M,e[23]=H):H=e[23];let z;e[24]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(K,{htmlFor:"notes",children:"Notes"}),e[24]=z):z=e[24];let v;e[25]!==a?(v=A=>a("notes",A.target.value),e[25]=a,e[26]=v):v=e[26];let g;e[27]!==r.notes||e[28]!==v?(g=t.jsxs("div",{className:"space-y-2",children:[z,t.jsx(Xe,{id:"notes",value:r.notes,onChange:v})]}),e[27]=r.notes,e[28]=v,e[29]=g):g=e[29];let y;e[30]!==H||e[31]!==g||e[32]!==F?(y=t.jsxs("div",{className:"space-y-4 py-4",children:[F,H,g]}),e[30]=H,e[31]=g,e[32]=F,e[33]=y):y=e[33];let _;e[34]!==l?(_=t.jsx(X,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e[34]=l,e[35]=_):_=e[35];let N;e[36]!==o?(N=t.jsx(X,{type:"submit",disabled:o,children:"Check Out"}),e[36]=o,e[37]=N):N=e[37];let k;e[38]!==_||e[39]!==N?(k=t.jsxs(Ue,{children:[_,N]}),e[38]=_,e[39]=N,e[40]=k):k=e[40];let S;e[41]!==n||e[42]!==y||e[43]!==k?(S=t.jsxs("form",{onSubmit:n,children:[y,k]}),e[41]=n,e[42]=y,e[43]=k,e[44]=S):S=e[44];let w;e[45]!==S||e[46]!==b?(w=t.jsxs(He,{className:"max-w-md",children:[b,S]}),e[45]=S,e[46]=b,e[47]=w):w=e[47];let C;return e[48]!==l||e[49]!==d||e[50]!==w?(C=t.jsx(Le,{open:d,onOpenChange:l,children:w}),e[48]=l,e[49]=d,e[50]=w,e[51]=C):C=e[51],C}function At(){oe.error("Failed to check out member")}function Ot(j){const e=me.c(100),{open:d,onOpenChange:l,attendance:s,members:h}=j;let f;e[0]!==s.member_id?(f=s.member_id.toString(),e[0]=s.member_id,e[1]=f):f=e[1];let i;e[2]!==s.date?(i=s.date.split("T"),e[2]=s.date,e[3]=i):i=e[3];const r=i[0];let a;e[4]!==s.check_in_time?(a=s.check_in_time.slice(0,5),e[4]=s.check_in_time,e[5]=a):a=e[5];let x;e[6]!==s.check_out_time?(x=s.check_out_time?s.check_out_time.slice(0,5):"",e[6]=s.check_out_time,e[7]=x):x=e[7];const o=s.notes||"";let m;e[8]!==f||e[9]!==i[0]||e[10]!==a||e[11]!==x||e[12]!==o?(m={member_id:f,date:r,check_in_time:a,check_out_time:x,notes:o},e[8]=f,e[9]=i[0],e[10]=a,e[11]=x,e[12]=o,e[13]=m):m=e[13];const{data:c,setData:n,put:p,processing:u,errors:b}=Fe(m);let O;e[14]!==s.check_in_time||e[15]!==s.check_out_time||e[16]!==s.date||e[17]!==s.member_id||e[18]!==s.notes||e[19]!==n?(O=()=>{n({member_id:s.member_id.toString(),date:s.date.split("T")[0],check_in_time:s.check_in_time.slice(0,5),check_out_time:s.check_out_time?s.check_out_time.slice(0,5):"",notes:s.notes||""})},e[14]=s.check_in_time,e[15]=s.check_out_time,e[16]=s.date,e[17]=s.member_id,e[18]=s.notes,e[19]=n,e[20]=O):O=e[20];let F;e[21]!==s?(F=[s],e[21]=s,e[22]=F):F=e[22],re.useEffect(O,F);let L;e[23]!==s.id||e[24]!==l||e[25]!==p?(L=G=>{G.preventDefault(),p(`/attendances/${s.id}`,{onSuccess:()=>{l(!1),oe.success("Attendance updated successfully")},onError:Ft})},e[23]=s.id,e[24]=l,e[25]=p,e[26]=L):L=e[26];const T=L;let D;e[27]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsxs(Me,{children:[t.jsx($e,{children:"Edit Attendance"}),t.jsx(Ee,{children:"Update attendance record"})]}),e[27]=D):D=e[27];let M;e[28]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(K,{htmlFor:"member_id",children:"Member *"}),e[28]=M):M=e[28];const H=c.member_id;let z;e[29]!==n?(z=G=>n("member_id",G),e[29]=n,e[30]=z):z=e[30];let v;e[31]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(st,{children:t.jsx(lt,{})}),e[31]=v):v=e[31];let g;e[32]!==h?(g=h.map(It),e[32]=h,e[33]=g):g=e[33];let y;e[34]!==g?(y=t.jsx(ct,{children:g}),e[34]=g,e[35]=y):y=e[35];let _;e[36]!==c.member_id||e[37]!==z||e[38]!==y?(_=t.jsxs(nt,{value:H,onValueChange:z,children:[v,y]}),e[36]=c.member_id,e[37]=z,e[38]=y,e[39]=_):_=e[39];let N;e[40]!==b.member_id?(N=b.member_id&&t.jsx("p",{className:"text-sm text-destructive",children:b.member_id}),e[40]=b.member_id,e[41]=N):N=e[41];let k;e[42]!==_||e[43]!==N?(k=t.jsxs("div",{className:"space-y-2",children:[M,_,N]}),e[42]=_,e[43]=N,e[44]=k):k=e[44];let S;e[45]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(K,{htmlFor:"date",children:"Date *"}),e[45]=S):S=e[45];let w;e[46]!==n?(w=G=>n("date",G.target.value),e[46]=n,e[47]=w):w=e[47];let C;e[48]!==c.date||e[49]!==w?(C=t.jsx(ae,{id:"date",type:"date",value:c.date,onChange:w}),e[48]=c.date,e[49]=w,e[50]=C):C=e[50];let A;e[51]!==b.date?(A=b.date&&t.jsx("p",{className:"text-sm text-destructive",children:b.date}),e[51]=b.date,e[52]=A):A=e[52];let $;e[53]!==C||e[54]!==A?($=t.jsxs("div",{className:"space-y-2",children:[S,C,A]}),e[53]=C,e[54]=A,e[55]=$):$=e[55];let B;e[56]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(K,{htmlFor:"check_in_time",children:"Check-in Time *"}),e[56]=B):B=e[56];let R;e[57]!==n?(R=G=>n("check_in_time",G.target.value),e[57]=n,e[58]=R):R=e[58];let E;e[59]!==c.check_in_time||e[60]!==R?(E=t.jsx(ae,{id:"check_in_time",type:"time",value:c.check_in_time,onChange:R}),e[59]=c.check_in_time,e[60]=R,e[61]=E):E=e[61];let V;e[62]!==b.check_in_time?(V=b.check_in_time&&t.jsx("p",{className:"text-sm text-destructive",children:b.check_in_time}),e[62]=b.check_in_time,e[63]=V):V=e[63];let U;e[64]!==E||e[65]!==V?(U=t.jsxs("div",{className:"space-y-2",children:[B,E,V]}),e[64]=E,e[65]=V,e[66]=U):U=e[66];let q;e[67]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(K,{htmlFor:"check_out_time",children:"Check-out Time"}),e[67]=q):q=e[67];let P;e[68]!==n?(P=G=>n("check_out_time",G.target.value),e[68]=n,e[69]=P):P=e[69];let I;e[70]!==c.check_out_time||e[71]!==P?(I=t.jsxs("div",{className:"space-y-2",children:[q,t.jsx(ae,{id:"check_out_time",type:"time",value:c.check_out_time,onChange:P})]}),e[70]=c.check_out_time,e[71]=P,e[72]=I):I=e[72];let Y;e[73]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(K,{htmlFor:"notes",children:"Notes"}),e[73]=Y):Y=e[73];let Q;e[74]!==n?(Q=G=>n("notes",G.target.value),e[74]=n,e[75]=Q):Q=e[75];let Z;e[76]!==c.notes||e[77]!==Q?(Z=t.jsxs("div",{className:"space-y-2",children:[Y,t.jsx(Xe,{id:"notes",value:c.notes,onChange:Q})]}),e[76]=c.notes,e[77]=Q,e[78]=Z):Z=e[78];let ee;e[79]!==k||e[80]!==$||e[81]!==U||e[82]!==I||e[83]!==Z?(ee=t.jsxs("div",{className:"space-y-4 py-4",children:[k,$,U,I,Z]}),e[79]=k,e[80]=$,e[81]=U,e[82]=I,e[83]=Z,e[84]=ee):ee=e[84];let se;e[85]!==l?(se=t.jsx(X,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e[85]=l,e[86]=se):se=e[86];let le;e[87]!==u?(le=t.jsx(X,{type:"submit",disabled:u,children:"Update"}),e[87]=u,e[88]=le):le=e[88];let ce;e[89]!==se||e[90]!==le?(ce=t.jsxs(Ue,{children:[se,le]}),e[89]=se,e[90]=le,e[91]=ce):ce=e[91];let W;e[92]!==T||e[93]!==ee||e[94]!==ce?(W=t.jsxs(He,{className:"max-w-md",children:[D,t.jsxs("form",{onSubmit:T,children:[ee,ce]})]}),e[92]=T,e[93]=ee,e[94]=ce,e[95]=W):W=e[95];let te;return e[96]!==l||e[97]!==d||e[98]!==W?(te=t.jsx(Le,{open:d,onOpenChange:l,children:W}),e[96]=l,e[97]=d,e[98]=W,e[99]=te):te=e[99],te}function It(j){return t.jsx(it,{value:j.id.toString(),children:j.user?.name||"Unknown"},j.id)}function Ft(){oe.error("Failed to update attendance")}function Mt(j){const e=me.c(22),{open:d,onOpenChange:l,attendance:s}=j,{delete:h,processing:f}=Fe();let i;e[0]!==s.id||e[1]!==h||e[2]!==l?(i=()=>{h(`/attendances/${s.id}`,{onSuccess:()=>{l(!1),oe.success("Attendance deleted successfully")},onError:$t})},e[0]=s.id,e[1]=h,e[2]=l,e[3]=i):i=e[3];const r=i;let a;e[4]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx($e,{children:"Delete Attendance"}),e[4]=a):a=e[4];const x=s.member?.name;let o;e[5]!==x?(o=t.jsxs(Me,{children:[a,t.jsxs(Ee,{children:["Are you sure you want to delete attendance record for ",x,"? This action cannot be undone."]})]}),e[5]=x,e[6]=o):o=e[6];let m;e[7]!==l?(m=t.jsx(X,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e[7]=l,e[8]=m):m=e[8];let c;e[9]!==r||e[10]!==f?(c=t.jsx(X,{variant:"destructive",onClick:r,disabled:f,children:"Delete"}),e[9]=r,e[10]=f,e[11]=c):c=e[11];let n;e[12]!==m||e[13]!==c?(n=t.jsxs(Ue,{children:[m,c]}),e[12]=m,e[13]=c,e[14]=n):n=e[14];let p;e[15]!==o||e[16]!==n?(p=t.jsxs(He,{children:[o,n]}),e[15]=o,e[16]=n,e[17]=p):p=e[17];let u;return e[18]!==l||e[19]!==d||e[20]!==p?(u=t.jsx(Le,{open:d,onOpenChange:l,children:p}),e[18]=l,e[19]=d,e[20]=p,e[21]=u):u=e[21],u}function $t(){oe.error("Failed to delete attendance")}function ls(j){const e=me.c(100),{attendances:d,members:l,stats:s,selectedDate:h,selectedMonth:f,monthlyData:i,daysInMonth:r}=j,{auth:a}=at().props,[x,o]=re.useState(!1),[m,c]=re.useState(null),[n,p]=re.useState(null),[u,b]=re.useState(null);let O;e[0]!==h?(O=h||new Date().toISOString().split("T")[0],e[0]=h,e[1]=O):O=e[1];const[F,L]=re.useState(O);let T;e[2]!==f?(T=f||new Date().toISOString().slice(0,7),e[2]=f,e[3]=T):T=e[3];const[D,M]=re.useState(T),[H,z]=re.useState(f?"monthly":h?"custom":"today");let v;e[4]!==a.permissions?(v=a.permissions.includes("create_attendances"),e[4]=a.permissions,e[5]=v):v=e[5];const g=v;let y;e[6]!==a.permissions?(y=a.permissions.includes("edit_attendances"),e[6]=a.permissions,e[7]=y):y=e[7];const _=y;let N;e[8]!==a.permissions?(N=a.permissions.includes("delete_attendances"),e[8]=a.permissions,e[9]=N):N=e[9];const k=N;let S;e[10]===Symbol.for("react.memo_cache_sentinel")?(S=J=>{z(J),J==="today"&&Ve.get("/attendances",{},{preserveState:!0})},e[10]=S):S=e[10];const w=S;let C;e[11]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(rt,{title:"Attendance"}),e[11]=C):C=e[11];let A;e[12]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Attendance"}),t.jsx("p",{className:"text-muted-foreground",children:"Track member check-ins and check-outs"})]}),e[12]=A):A=e[12];let $;e[13]!==g?($=g&&t.jsxs(X,{onClick:()=>o(!0),children:[t.jsx(Ne,{className:"mr-2 h-4 w-4"}),"Check In"]}),e[13]=g,e[14]=$):$=e[14];let B;e[15]!==$?(B=t.jsxs("div",{className:"flex items-center justify-between",children:[A,$]}),e[15]=$,e[16]=B):B=e[16];let R;e[17]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Ge,{className:"text-sm font-medium",children:"Today's Check-ins"}),t.jsx(pt,{className:"h-4 w-4 text-muted-foreground"})]}),e[17]=R):R=e[17];let E;e[18]!==s.today_count?(E=t.jsx("div",{className:"text-2xl font-bold",children:s.today_count}),e[18]=s.today_count,e[19]=E):E=e[19];let V;e[20]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total members checked in"}),e[20]=V):V=e[20];let U;e[21]!==E?(U=t.jsxs(qe,{children:[R,t.jsxs(Je,{children:[E,V]})]}),e[21]=E,e[22]=U):U=e[22];let q;e[23]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Ge,{className:"text-sm font-medium",children:"Currently In Gym"}),t.jsx(Ne,{className:"h-4 w-4 text-muted-foreground"})]}),e[23]=q):q=e[23];let P;e[24]!==s.checked_in?(P=t.jsx("div",{className:"text-2xl font-bold",children:s.checked_in}),e[24]=s.checked_in,e[25]=P):P=e[25];let I;e[26]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active members in gym"}),e[26]=I):I=e[26];let Y;e[27]!==P?(Y=t.jsxs(qe,{children:[q,t.jsxs(Je,{children:[P,I]})]}),e[27]=P,e[28]=Y):Y=e[28];let Q;e[29]!==U||e[30]!==Y?(Q=t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[U,Y]}),e[29]=U,e[30]=Y,e[31]=Q):Q=e[31];let Z;e[32]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsxs(Pe,{children:[t.jsx(Ge,{children:"Attendance Records"}),t.jsx(mt,{children:"View and manage member attendance"})]}),e[32]=Z):Z=e[32];let ee;e[33]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsxs(dt,{className:"mb-4",children:[t.jsx(Ke,{value:"today",children:"Today"}),t.jsx(Ke,{value:"custom",children:"Custom Date"}),t.jsx(Ke,{value:"monthly",children:"Monthly"})]}),e[33]=ee):ee=e[33];const se=_?c:void 0,le=_?p:void 0,ce=k?b:void 0;let W;e[34]!==d||e[35]!==se||e[36]!==le||e[37]!==ce?(W=t.jsx(Ye,{attendances:d,onCheckOut:se,onEdit:le,onDelete:ce}),e[34]=d,e[35]=se,e[36]=le,e[37]=ce,e[38]=W):W=e[38];let te;e[39]!==d.length?(te=d.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Ne,{className:"mx-auto h-12 w-12 text-muted-foreground"}),t.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No attendance records"}),t.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No members have checked in today"})]}),e[39]=d.length,e[40]=te):te=e[40];let G;e[41]!==W||e[42]!==te?(G=t.jsxs(Qe,{value:"today",className:"space-y-4",children:[W,te]}),e[41]=W,e[42]=te,e[43]=G):G=e[43];let Ce;e[44]===Symbol.for("react.memo_cache_sentinel")?(Ce=t.jsx(K,{htmlFor:"date",children:"Select Date"}),e[44]=Ce):Ce=e[44];let Te,De;e[45]===Symbol.for("react.memo_cache_sentinel")?(Te=J=>{L(J.target.value),Ve.get("/attendances",{date:J.target.value},{preserveState:!0})},De=new Date().toISOString().split("T"),e[45]=Te,e[46]=De):(Te=e[45],De=e[46]);let de;e[47]!==F?(de=t.jsx("div",{className:"flex gap-2 items-end",children:t.jsxs("div",{className:"flex-1",children:[Ce,t.jsx(ae,{id:"date",type:"date",value:F,onChange:Te,max:De[0]})]})}),e[47]=F,e[48]=de):de=e[48];const ze=_?c:void 0,Be=_?p:void 0,Re=k?b:void 0;let he;e[49]!==d||e[50]!==ze||e[51]!==Be||e[52]!==Re?(he=t.jsx(Ye,{attendances:d,onCheckOut:ze,onEdit:Be,onDelete:Re}),e[49]=d,e[50]=ze,e[51]=Be,e[52]=Re,e[53]=he):he=e[53];let fe;e[54]!==d.length?(fe=d.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Ne,{className:"mx-auto h-12 w-12 text-muted-foreground"}),t.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No attendance records"}),t.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No members checked in on this date"})]}),e[54]=d.length,e[55]=fe):fe=e[55];let xe;e[56]!==de||e[57]!==he||e[58]!==fe?(xe=t.jsxs(Qe,{value:"custom",className:"space-y-4",children:[de,he,fe]}),e[56]=de,e[57]=he,e[58]=fe,e[59]=xe):xe=e[59];let we;e[60]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx(K,{htmlFor:"month",children:"Select Month"}),e[60]=we):we=e[60];let Ae,Oe;e[61]===Symbol.for("react.memo_cache_sentinel")?(Ae=J=>{M(J.target.value),Ve.get("/attendances",{month:J.target.value},{preserveState:!0})},Oe=new Date().toISOString().slice(0,7),e[61]=Ae,e[62]=Oe):(Ae=e[61],Oe=e[62]);let ue;e[63]!==D?(ue=t.jsx("div",{className:"flex gap-2 items-end",children:t.jsxs("div",{className:"flex-1",children:[we,t.jsx(ae,{id:"month",type:"month",value:D,onChange:Ae,max:Oe})]})}),e[63]=D,e[64]=ue):ue=e[64];let _e;e[65]!==r||e[66]!==i?(_e=i&&r?t.jsx(gt,{data:i,daysInMonth:r}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Ne,{className:"mx-auto h-12 w-12 text-muted-foreground"}),t.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"Select a month"}),t.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Choose a month to view attendance"})]}),e[65]=r,e[66]=i,e[67]=_e):_e=e[67];let je;e[68]!==ue||e[69]!==_e?(je=t.jsxs(Qe,{value:"monthly",className:"space-y-4",children:[ue,_e]}),e[68]=ue,e[69]=_e,e[70]=je):je=e[70];let pe;e[71]!==H||e[72]!==G||e[73]!==xe||e[74]!==je?(pe=t.jsxs(qe,{children:[Z,t.jsx(Je,{children:t.jsxs(ht,{value:H,onValueChange:w,children:[ee,G,xe,je]})})]}),e[71]=H,e[72]=G,e[73]=xe,e[74]=je,e[75]=pe):pe=e[75];let be;e[76]!==B||e[77]!==Q||e[78]!==pe?(be=t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[B,Q,pe]}),e[76]=B,e[77]=Q,e[78]=pe,e[79]=be):be=e[79];let ge;e[80]!==g||e[81]!==x||e[82]!==l?(ge=g&&t.jsx(Ct,{open:x,onOpenChange:o,members:l}),e[80]=g,e[81]=x,e[82]=l,e[83]=ge):ge=e[83];let ke;e[84]!==_||e[85]!==m?(ke=_&&m&&t.jsx(wt,{open:!!m,onOpenChange:J=>!J&&c(null),attendance:m}),e[84]=_,e[85]=m,e[86]=ke):ke=e[86];let ye;e[87]!==_||e[88]!==n||e[89]!==l?(ye=_&&n&&t.jsx(Ot,{open:!!n,onOpenChange:J=>!J&&p(null),attendance:n,members:l}),e[87]=_,e[88]=n,e[89]=l,e[90]=ye):ye=e[90];let ve;e[91]!==k||e[92]!==u?(ve=k&&u&&t.jsx(Mt,{open:!!u,onOpenChange:J=>!J&&b(null),attendance:u}),e[91]=k,e[92]=u,e[93]=ve):ve=e[93];let Ie;return e[94]!==be||e[95]!==ge||e[96]!==ke||e[97]!==ye||e[98]!==ve?(Ie=t.jsxs(ot,{children:[C,be,ge,ke,ye,ve]}),e[94]=be,e[95]=ge,e[96]=ke,e[97]=ye,e[98]=ve,e[99]=Ie):Ie=e[99],Ie}export{ls as default};
